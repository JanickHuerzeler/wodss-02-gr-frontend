{"version":3,"sources":["components/InfoBubble.tsx","helpers/AreLocationsEqual.tsx","helpers/MapInteractions.tsx","api/base.ts","api/common.ts","api/api.ts","api/configuration.ts","components/Gmap.tsx","components/SearchBar.tsx","components/SideBar.tsx","resources/logo.png","resources/messages.tsx","components/IncidenceHistory.tsx","App.tsx","index.tsx"],"names":["InfoBubble","this","props","data","intl","show","className","zip","name","formatMessage","id","incidence","toFixed","Component","injectIntl","areLocationsEqual","locationOld","locationNew","lat","lng","removeMarker","marker","setMap","removePolygons","polygons","forEach","polygon","BASE_PATH","replace","BaseAPI","configuration","basePath","axios","globalAxios","RequiredError","field","msg","Error","DUMMY_BASE_URL","assertParamExists","functionName","paramName","paramValue","undefined","setSearchParams","url","searchParams","URLSearchParams","search","objects","object","key","Array","isArray","delete","item","append","set","toString","serializeDataIfNeeded","value","requestOptions","nonString","isJsonMime","headers","JSON","stringify","toPathString","pathname","hash","createRequestFunction","axiosArgs","axiosRequestArgs","options","request","DefaultApiFp","localVarAxiosParamCreator","cantonsCantonIncidencesGet","canton","dateFrom","dateTo","language","a","localVarPath","encodeURIComponent","String","localVarUrlObj","URL","baseOptions","localVarRequestOptions","method","localVarHeaderParameter","localVarQueryParameter","query","headersFromBaseOptions","cantonsCantonMunicipalitiesBfsNrGet","bfsNr","cantonsCantonMunicipalitiesBfsNrIncidencesGet","cantonsCantonMunicipalitiesGet","waypointsPost","waypoints","DefaultApiAxiosParamCreator","localVarAxiosArgs","DefaultApi","then","Configuration","param","apiKey","username","password","accessToken","formDataCtor","mime","jsonMime","RegExp","test","toLowerCase","API","process","DEFAULT_MAP_CENTER","Number","parseFloat","MAP_OPTIONS","styles","stylers","POLY_OPTIONS","strokeOpacity","fillOpacity","POLY_OPTIONS_HOVER","WAYPOINT_DISTANCER_CHUNKER","parseInt","GoogleMaps","directionsService","directionsRenderer","mapPolygons","locationMarker","locationFromBefore","locationToBefore","locationStopOversBefore","travelModeBefore","state","defaultCenter","center","defaultZoom","map","mapLoaded","isLoading","loaded","uniqueId","infoBubble","timeoutCantons","noServerResponse","chunkSize","handleMap","locationFrom","locationTo","Date","now","setState","stopOverWaypoints","locationStopOvers","length","filter","s","location","stopover","directionServiceOptions","origin","destination","travelMode","google","maps","TravelMode","TRANSIT","route","result","status","DirectionsStatus","OK","routeInfo","computeRouteInfos","waypointsChunks","currentPolygons","setDirections","routeChanged","routes","legs","wps","steps","wp","pushWaypoint","start_location","end_location","overview_path","Math","ceil","distance","i","j","push","slice","municipalitiesLoaded","chunkIndex","sendWaypointsToBackend","m","insertMunicipalityToRouteInfo","includes","geo_shapes","bounds","LatLngBounds","geo_shape","gPolygon","Polygon","paths","coords","pos","extend","strokeWeight","strokeColor","incidence_color","fillColor","addListener","setOptions","getCenter","plz","selectedMunicipalityChanged","computeRouteIncidenceRollingAVG","console","warn","error","duration","municipalities","Marker","position","setTimeout","DirectionsService","DirectionsRenderer","callback","selectedLocale","response","distinctCantons","replaceAll","split","v","indexOf","concat","showToast","join","handleApiError","finally","errorMessage","log","message","toast","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","type","insertMunicipality","municipality","index","splice","waypoint","leg","numMunicipalities","locationArrayOld","locationArrayNew","every","val","newestOnTop","rtl","pauseOnFocusLoss","bootstrapURLKeys","onGoogleApiLoaded","yesIWantToUseGoogleMapApiInternals","SearchBar","inputFieldRef","randomKey","handleChange","address","latitude","longitude","handleSelect","selected","geocodeByAddress","res","getLatLng","onLocationChanged","catch","handleCloseClick","handleError","clearSuggestions","handleBlur","handleRemoveStopover","onRemoveSearchbar","stopOverIndex","focus","onChange","onSelect","onError","shouldFetchSuggestions","highlightFirstSuggestion","searchOptions","componentRestrictions","country","getInputProps","suggestions","getSuggestionItemProps","tabIndex","ref","input","placeholder","onBlur","onClick","suggestion","active","formattedSuggestion","mainText","secondaryText","React","defaultProps","SideBar","stopOvers","routeListMaxHeight","changeTravelMode","event","travelModeString","target","travelModeChanged","handleStopOverChanged","currentStopOvers","locationStopOversChanged","handleAddSearchbar","handleRemoveSearchbar","handleRouteInfoMunicipalityClick","collapsed","toggled","breakPoint","onToggle","handleToggleSidebar","data-testid","src","alt","ButtonGroup","aria-label","Button","title","variant","iconShape","locationFromChanged","hidden","stopOverCoords","locationToChanged","routeInfos","floor","style","background","e","localeChanged","Object","keys","locales","href","rel","messages","area","coordinates","destinationFrom","destinationTo","municipalitiesAlongTheRoute","ddincidenced14","population","sideBarTitle","sideBarFooter","addStopOver","removeStopOver","loadingIncidenceOverlay","loadingFinished","infographicIncidence","infographicDuration","infographicDistance","tavelModeDriving","tavelModeTransit","tavelModeWalking","tavelModeBicycling","errorMessageTimeout","errorEmoji","errorMessageHttpError","errorMessageNoResponse","errorMessageRequestError","interval14","interval7","intervalAll","chartTitle","chartXTitle","chartYTitle","chartLoading","IncidenceHistory","intervalOptions","date","moment","subtract","selectedMunicipality","previousDateFrom","loadData","bfs_nr","format","dataSeries","dt","timestamp","intervalChanged","intervalDateString","renderIncidences","x","y","color","layout","text","font","size","xanchor","yanchor","xaxis","margin","t","b","l","r","pad","automargin","autosize","width","height","yaxis","paper_bgcolor","plot_bgcolor","bgcolor","bordercolor","config","displayModeBar","modeBarButtonsToRemove","closeIncidenceChart","App","DRIVING","locale","coordsArray","el","handleSelectedMunicipalityChanged","handleCloseIncidenceChart","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.89b2e0fd.chunk.js","sourcesContent":["import React, {Component} from \"react\";\r\nimport \"../scss/InfoBubble.scss\";\r\nimport {injectIntl, WrappedComponentProps} from \"react-intl\";\r\nimport {InfoBubbleProps, InfoBubbleState} from \"../types/InfoBubble\";\r\n\r\n/**\r\n * Render the info bubble with the municipality information zip code,location and incidence.\r\n */\r\nclass InfoBubble extends Component<InfoBubbleProps & WrappedComponentProps, InfoBubbleState> {\r\n    /**\r\n     * Render HTMl output\r\n     */\r\n    render() {\r\n        const {data,intl} = this.props;\r\n        return (\r\n            /* Show only if property show is true*/\r\n            data.show &&\r\n            <div className='infoBubble'>\r\n                <span className=\"infoBubble--municipality\">\r\n                    {data.zip} {data.name}\r\n                </span>\r\n                <span className=\"infoBubble--incidence\">\r\n                    {intl.formatMessage({id: 'incidence'})}:\r\n                    <span>\r\n                        {/* If incidence not set, show a question mark */}\r\n                        {(data.incidence || data.incidence === 0) ? data.incidence.toFixed(1) : '?'}\r\n                    </span>\r\n                </span>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default injectIntl(InfoBubble);\r\n","import {Coords} from \"google-map-react\";\r\n\r\n/**\r\n * Checks if a location is equal to the other (Deepcheck).\r\n * @param {Coords | undefined} locationOld - Origin coordinates.\r\n * @param {Coords | undefined} locationNew - Destination coordinates.\r\n */\r\nexport const areLocationsEqual = (locationOld: Coords | undefined, locationNew: Coords | undefined): boolean => {\r\n    //\r\n    return (!locationOld || !locationNew)\r\n        ? (!locationOld && !locationNew)\r\n        : (locationOld.lat === locationNew.lat && locationOld.lng === locationNew.lng)\r\n}\r\n\r\n/**\r\n * Checks if an array of locations is equal to the other array (Deepcheck).\r\n * Uses the \"areLocationsEqual\" function to check the individual array values.\r\n * @param {Coords[] | undefined} locationArrayOld - Array contains origin coordinates.\r\n * @param {Coords[] | undefined} locationArrayNew - Array contains destination coordinates.\r\n */\r\nexport const areLocationArraysEqual = (locationArrayOld: Coords[] | undefined, locationArrayNew: Coords[] | undefined): boolean =>{\r\n    return Array.isArray(locationArrayOld) && Array.isArray(locationArrayNew) &&\r\n    locationArrayOld.length === locationArrayNew.length &&\r\n    locationArrayOld.every((val, index) => areLocationsEqual(val, locationArrayNew[index]));\r\n}\r\n","/**\r\n * Removes the route that is currently on the map.\r\n * @param {google.maps.DirectionsRenderer} directionsRenderer - Directions renderer from google maps.\r\n */\r\nexport const removeRoute = (directionsRenderer: google.maps.DirectionsRenderer) => {\r\n    directionsRenderer.setMap(null);\r\n}\r\n\r\n/**\r\n * Removes the marker that is currently on the map.\r\n * @param {google.maps.Marker} marker - Marker to remove. Can be undefined!\r\n */\r\nexport const removeMarker = (marker: google.maps.Marker | undefined) => {\r\n    if (marker) marker.setMap(null);\r\n}\r\n\r\n/**\r\n * Removes all polygons that are currently on the map.\r\n * @param {google.maps.Polygon[]} polygons - All polygons to be removed.\r\n */\r\nexport const removePolygons = (polygons: google.maps.Polygon[]) => {\r\n    polygons.forEach((polygon: any) => polygon.setMap(null));\r\n}\r\n\r\n\r\n","/* tslint:disable */\r\n/* eslint-disable */\r\n/**\r\n * WODSS Gruppe 02 Backend API\r\n * API for WODSS Gruppe 02 Backend\r\n *\r\n * The version of the OpenAPI document: 0.0.1\r\n * \r\n *\r\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\r\n * https://openapi-generator.tech\r\n * Do not edit the class manually.\r\n */\r\n\r\n\r\nimport { Configuration } from \"./configuration\";\r\n// Some imports not used depending on template conditions\r\n// @ts-ignore\r\nimport globalAxios, { AxiosPromise, AxiosInstance } from 'axios';\r\n\r\nexport const BASE_PATH = \"http://localhost\".replace(/\\/+$/, \"\");\r\n\r\n/**\r\n *\r\n * @export\r\n */\r\nexport const COLLECTION_FORMATS = {\r\n    csv: \",\",\r\n    ssv: \" \",\r\n    tsv: \"\\t\",\r\n    pipes: \"|\",\r\n};\r\n\r\n/**\r\n *\r\n * @export\r\n * @interface RequestArgs\r\n */\r\nexport interface RequestArgs {\r\n    url: string;\r\n    options: any;\r\n}\r\n\r\n/**\r\n *\r\n * @export\r\n * @class BaseAPI\r\n */\r\nexport class BaseAPI {\r\n    protected configuration: Configuration | undefined;\r\n\r\n    constructor(configuration?: Configuration, protected basePath: string = BASE_PATH, protected axios: AxiosInstance = globalAxios) {\r\n        if (configuration) {\r\n            this.configuration = configuration;\r\n            this.basePath = configuration.basePath || this.basePath;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n *\r\n * @export\r\n * @class RequiredError\r\n * @extends {Error}\r\n */\r\nexport class RequiredError extends Error {\r\n    name: \"RequiredError\" = \"RequiredError\";\r\n    constructor(public field: string, msg?: string) {\r\n        super(msg);\r\n    }\r\n}\r\n","/* tslint:disable */\r\n/* eslint-disable */\r\n/**\r\n * WODSS Gruppe 02 Backend API\r\n * API for WODSS Gruppe 02 Backend\r\n *\r\n * The version of the OpenAPI document: 0.0.1\r\n * \r\n *\r\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\r\n * https://openapi-generator.tech\r\n * Do not edit the class manually.\r\n */\r\n\r\n\r\nimport { Configuration } from \"./configuration\";\r\nimport { RequiredError,ã€€RequestArgs } from \"./base\";\r\nimport { AxiosInstance } from 'axios';\r\n\r\n/**\r\n *\r\n * @export\r\n */\r\nexport const DUMMY_BASE_URL = 'https://example.com'\r\n\r\n/**\r\n *\r\n * @throws {RequiredError}\r\n * @export\r\n */\r\nexport const assertParamExists = function (functionName: string, paramName: string, paramValue: unknown) {\r\n    if (paramValue === null || paramValue === undefined) {\r\n        throw new RequiredError(paramName, `Required parameter ${paramName} was null or undefined when calling ${functionName}.`);\r\n    }\r\n}\r\n\r\n/**\r\n *\r\n * @export\r\n */\r\nexport const setApiKeyToObject = async function (object: any, keyParamName: string, configuration?: Configuration) {\r\n    if (configuration && configuration.apiKey) {\r\n        const localVarApiKeyValue = typeof configuration.apiKey === 'function'\r\n            ? await configuration.apiKey(keyParamName)\r\n            : await configuration.apiKey;\r\n        object[keyParamName] = localVarApiKeyValue;\r\n    }\r\n}\r\n\r\n/**\r\n *\r\n * @export\r\n */\r\nexport const setBasicAuthToObject = function (object: any, configuration?: Configuration) {\r\n    if (configuration && (configuration.username || configuration.password)) {\r\n        object[\"auth\"] = { username: configuration.username, password: configuration.password };\r\n    }\r\n}\r\n\r\n/**\r\n *\r\n * @export\r\n */\r\nexport const setBearerAuthToObject = async function (object: any, configuration?: Configuration) {\r\n    if (configuration && configuration.accessToken) {\r\n        const accessToken = typeof configuration.accessToken === 'function'\r\n            ? await configuration.accessToken()\r\n            : await configuration.accessToken;\r\n        object[\"Authorization\"] = \"Bearer \" + accessToken;\r\n    }\r\n}\r\n\r\n/**\r\n *\r\n * @export\r\n */\r\nexport const setOAuthToObject = async function (object: any, name: string, scopes: string[], configuration?: Configuration) {\r\n    if (configuration && configuration.accessToken) {\r\n        const localVarAccessTokenValue = typeof configuration.accessToken === 'function'\r\n            ? await configuration.accessToken(name, scopes)\r\n            : await configuration.accessToken;\r\n        object[\"Authorization\"] = \"Bearer \" + localVarAccessTokenValue;\r\n    }\r\n}\r\n\r\n/**\r\n *\r\n * @export\r\n */\r\nexport const setSearchParams = function (url: URL, ...objects: any[]) {\r\n    const searchParams = new URLSearchParams(url.search);\r\n    for (const object of objects) {\r\n        for (const key in object) {\r\n            if (Array.isArray(object[key])) {\r\n                searchParams.delete(key);\r\n                for (const item of object[key]) {\r\n                    searchParams.append(key, item);\r\n                }\r\n            } else {\r\n                searchParams.set(key, object[key]);\r\n            }\r\n        }\r\n    }\r\n    url.search = searchParams.toString();\r\n}\r\n\r\n/**\r\n *\r\n * @export\r\n */\r\nexport const serializeDataIfNeeded = function (value: any, requestOptions: any, configuration?: Configuration) {\r\n    const nonString = typeof value !== 'string';\r\n    const needsSerialization = nonString && configuration && configuration.isJsonMime\r\n        ? configuration.isJsonMime(requestOptions.headers['Content-Type'])\r\n        : nonString;\r\n    return needsSerialization\r\n        ? JSON.stringify(value !== undefined ? value : {})\r\n        : (value || \"\");\r\n}\r\n\r\n/**\r\n *\r\n * @export\r\n */\r\nexport const toPathString = function (url: URL) {\r\n    return url.pathname + url.search + url.hash\r\n}\r\n\r\n/**\r\n *\r\n * @export\r\n */\r\nexport const createRequestFunction = function (axiosArgs: RequestArgs, globalAxios: AxiosInstance, BASE_PATH: string, configuration?: Configuration) {\r\n    return (axios: AxiosInstance = globalAxios, basePath: string = BASE_PATH) => {\r\n        const axiosRequestArgs = {...axiosArgs.options, url: (configuration?.basePath || basePath) + axiosArgs.url};\r\n        return axios.request(axiosRequestArgs);\r\n    };\r\n}\r\n","/* tslint:disable */\r\n/* eslint-disable */\r\n/**\r\n * WODSS Gruppe 02 Backend API\r\n * API for WODSS Gruppe 02 Backend\r\n *\r\n * The version of the OpenAPI document: 0.0.1\r\n * \r\n *\r\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\r\n * https://openapi-generator.tech\r\n * Do not edit the class manually.\r\n */\r\n\r\n\r\nimport { Configuration } from './configuration';\r\nimport globalAxios, { AxiosPromise, AxiosInstance } from 'axios';\r\n// Some imports not used depending on template conditions\r\n// @ts-ignore\r\nimport { DUMMY_BASE_URL, assertParamExists, setApiKeyToObject, setBasicAuthToObject, setBearerAuthToObject, setOAuthToObject, setSearchParams, serializeDataIfNeeded, toPathString, createRequestFunction } from './common';\r\n// @ts-ignore\r\nimport { BASE_PATH, COLLECTION_FORMATS, RequestArgs, BaseAPI, RequiredError } from './base';\r\n\r\n/**\r\n * \r\n * @export\r\n * @interface CoordinateDTO\r\n */\r\nexport interface CoordinateDTO {\r\n    /**\r\n     * \r\n     * @type {number}\r\n     * @memberof CoordinateDTO\r\n     */\r\n    lat?: number;\r\n    /**\r\n     * \r\n     * @type {number}\r\n     * @memberof CoordinateDTO\r\n     */\r\n    lng?: number;\r\n}\r\n/**\r\n * \r\n * @export\r\n * @interface IncidenceDTO\r\n */\r\nexport interface IncidenceDTO {\r\n    /**\r\n     * \r\n     * @type {number}\r\n     * @memberof IncidenceDTO\r\n     */\r\n    bfsNr?: number;\r\n    /**\r\n     * \r\n     * @type {string}\r\n     * @memberof IncidenceDTO\r\n     */\r\n    date?: string;\r\n    /**\r\n     * \r\n     * @type {number}\r\n     * @memberof IncidenceDTO\r\n     */\r\n    incidence?: number;\r\n}\r\n/**\r\n * \r\n * @export\r\n * @interface MunicipalityDTO\r\n */\r\nexport interface MunicipalityDTO {\r\n    /**\r\n     * \r\n     * @type {number}\r\n     * @memberof MunicipalityDTO\r\n     */\r\n    bfs_nr?: number;\r\n    /**\r\n     * \r\n     * @type {string}\r\n     * @memberof MunicipalityDTO\r\n     */\r\n    canton?: string;\r\n    /**\r\n     * \r\n     * @type {Array<Array<CoordinateDTO>>}\r\n     * @memberof MunicipalityDTO\r\n     */\r\n    geo_shapes?: Array<Array<CoordinateDTO>>;\r\n    /**\r\n     * \r\n     * @type {number}\r\n     * @memberof MunicipalityDTO\r\n     */\r\n    incidence?: number;\r\n    /**\r\n     * \r\n     * @type {string}\r\n     * @memberof MunicipalityDTO\r\n     */\r\n    incidence_color?: string;\r\n    /**\r\n     * \r\n     * @type {string}\r\n     * @memberof MunicipalityDTO\r\n     */\r\n    incidence_date?: string;\r\n    /**\r\n     * \r\n     * @type {string}\r\n     * @memberof MunicipalityDTO\r\n     */\r\n    name?: string;\r\n    /**\r\n     * \r\n     * @type {number}\r\n     * @memberof MunicipalityDTO\r\n     */\r\n    plz?: number;\r\n}\r\n/**\r\n * \r\n * @export\r\n * @interface MunicipalityMetadataDTO\r\n */\r\nexport interface MunicipalityMetadataDTO {\r\n    /**\r\n     * \r\n     * @type {number}\r\n     * @memberof MunicipalityMetadataDTO\r\n     */\r\n    area?: number;\r\n    /**\r\n     * \r\n     * @type {number}\r\n     * @memberof MunicipalityMetadataDTO\r\n     */\r\n    bfs_nr?: number;\r\n    /**\r\n     * \r\n     * @type {string}\r\n     * @memberof MunicipalityMetadataDTO\r\n     */\r\n    canton?: string;\r\n    /**\r\n     * \r\n     * @type {string}\r\n     * @memberof MunicipalityMetadataDTO\r\n     */\r\n    name?: string;\r\n    /**\r\n     * \r\n     * @type {number}\r\n     * @memberof MunicipalityMetadataDTO\r\n     */\r\n    population?: number;\r\n}\r\n\r\n/**\r\n * DefaultApi - axios parameter creator\r\n * @export\r\n */\r\nexport const DefaultApiAxiosParamCreator = function (configuration?: Configuration) {\r\n    return {\r\n        /**\r\n         * \r\n         * @summary Returns incidences of the given canton with given date filter\r\n         * @param {string} canton two-char canton abbreviation\r\n         * @param {string} [dateFrom] dateFrom - dateFrom is inclusive. If not given, all datasets since beginning.\r\n         * @param {string} [dateTo] dateTo - dateTo is inclusive. If not given, all datasets till today.\r\n         * @param {string} [language] language tag (RFC 4646 format language_code-COUNTRY_CODE, e.g. \\&quot;en-US\\&quot;)\r\n         * @param {*} [options] Override http request option.\r\n         * @throws {RequiredError}\r\n         */\r\n        cantonsCantonIncidencesGet: async (canton: string, dateFrom?: string, dateTo?: string, language?: string, options: any = {}): Promise<RequestArgs> => {\r\n            // verify required parameter 'canton' is not null or undefined\r\n            assertParamExists('cantonsCantonIncidencesGet', 'canton', canton)\r\n            const localVarPath = `/cantons/{canton}/incidences/`\r\n                .replace(`{${\"canton\"}}`, encodeURIComponent(String(canton)));\r\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\r\n            const localVarUrlObj = new URL(localVarPath, DUMMY_BASE_URL);\r\n            let baseOptions;\r\n            if (configuration) {\r\n                baseOptions = configuration.baseOptions;\r\n            }\r\n\r\n            const localVarRequestOptions = { method: 'GET', ...baseOptions, ...options};\r\n            const localVarHeaderParameter = {} as any;\r\n            const localVarQueryParameter = {} as any;\r\n\r\n            if (dateFrom !== undefined) {\r\n                localVarQueryParameter['dateFrom'] = dateFrom;\r\n            }\r\n\r\n            if (dateTo !== undefined) {\r\n                localVarQueryParameter['dateTo'] = dateTo;\r\n            }\r\n\r\n            if (language !== undefined) {\r\n                localVarQueryParameter['language'] = language;\r\n            }\r\n\r\n\r\n    \r\n            setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\r\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\r\n            localVarRequestOptions.headers = {...localVarHeaderParameter, ...headersFromBaseOptions, ...options.headers};\r\n\r\n            return {\r\n                url: toPathString(localVarUrlObj),\r\n                options: localVarRequestOptions,\r\n            };\r\n        },\r\n        /**\r\n         * \r\n         * @summary Returns municipality of the given canton and bfs-nr\r\n         * @param {string} canton two-char canton abbreviation\r\n         * @param {string} bfsNr bfsNr\r\n         * @param {string} [language] language tag (RFC 4646 format language_code-COUNTRY_CODE, e.g. \\&quot;en-US\\&quot;)\r\n         * @param {*} [options] Override http request option.\r\n         * @throws {RequiredError}\r\n         */\r\n        cantonsCantonMunicipalitiesBfsNrGet: async (canton: string, bfsNr: string, language?: string, options: any = {}): Promise<RequestArgs> => {\r\n            // verify required parameter 'canton' is not null or undefined\r\n            assertParamExists('cantonsCantonMunicipalitiesBfsNrGet', 'canton', canton)\r\n            // verify required parameter 'bfsNr' is not null or undefined\r\n            assertParamExists('cantonsCantonMunicipalitiesBfsNrGet', 'bfsNr', bfsNr)\r\n            const localVarPath = `/cantons/{canton}/municipalities/{bfsNr}/`\r\n                .replace(`{${\"canton\"}}`, encodeURIComponent(String(canton)))\r\n                .replace(`{${\"bfsNr\"}}`, encodeURIComponent(String(bfsNr)));\r\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\r\n            const localVarUrlObj = new URL(localVarPath, DUMMY_BASE_URL);\r\n            let baseOptions;\r\n            if (configuration) {\r\n                baseOptions = configuration.baseOptions;\r\n            }\r\n\r\n            const localVarRequestOptions = { method: 'GET', ...baseOptions, ...options};\r\n            const localVarHeaderParameter = {} as any;\r\n            const localVarQueryParameter = {} as any;\r\n\r\n            if (language !== undefined) {\r\n                localVarQueryParameter['language'] = language;\r\n            }\r\n\r\n\r\n    \r\n            setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\r\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\r\n            localVarRequestOptions.headers = {...localVarHeaderParameter, ...headersFromBaseOptions, ...options.headers};\r\n\r\n            return {\r\n                url: toPathString(localVarUrlObj),\r\n                options: localVarRequestOptions,\r\n            };\r\n        },\r\n        /**\r\n         * \r\n         * @summary Returns incidences of the given canton and bfs-nr with given date filter\r\n         * @param {string} canton two-char canton abbreviation\r\n         * @param {string} bfsNr bfsNr\r\n         * @param {string} [dateFrom] dateFrom - dateFrom is inclusive. If not given, all datasets since beginning.\r\n         * @param {string} [dateTo] dateTo - dateTo is inclusive. If not given, all datasets till today.\r\n         * @param {string} [language] language tag (RFC 4646 format language_code-COUNTRY_CODE, e.g. \\&quot;en-US\\&quot;)\r\n         * @param {*} [options] Override http request option.\r\n         * @throws {RequiredError}\r\n         */\r\n        cantonsCantonMunicipalitiesBfsNrIncidencesGet: async (canton: string, bfsNr: string, dateFrom?: string, dateTo?: string, language?: string, options: any = {}): Promise<RequestArgs> => {\r\n            // verify required parameter 'canton' is not null or undefined\r\n            assertParamExists('cantonsCantonMunicipalitiesBfsNrIncidencesGet', 'canton', canton)\r\n            // verify required parameter 'bfsNr' is not null or undefined\r\n            assertParamExists('cantonsCantonMunicipalitiesBfsNrIncidencesGet', 'bfsNr', bfsNr)\r\n            const localVarPath = `/cantons/{canton}/municipalities/{bfsNr}/incidences/`\r\n                .replace(`{${\"canton\"}}`, encodeURIComponent(String(canton)))\r\n                .replace(`{${\"bfsNr\"}}`, encodeURIComponent(String(bfsNr)));\r\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\r\n            const localVarUrlObj = new URL(localVarPath, DUMMY_BASE_URL);\r\n            let baseOptions;\r\n            if (configuration) {\r\n                baseOptions = configuration.baseOptions;\r\n            }\r\n\r\n            const localVarRequestOptions = { method: 'GET', ...baseOptions, ...options};\r\n            const localVarHeaderParameter = {} as any;\r\n            const localVarQueryParameter = {} as any;\r\n\r\n            if (dateFrom !== undefined) {\r\n                localVarQueryParameter['dateFrom'] = dateFrom;\r\n            }\r\n\r\n            if (dateTo !== undefined) {\r\n                localVarQueryParameter['dateTo'] = dateTo;\r\n            }\r\n\r\n            if (language !== undefined) {\r\n                localVarQueryParameter['language'] = language;\r\n            }\r\n\r\n\r\n    \r\n            setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\r\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\r\n            localVarRequestOptions.headers = {...localVarHeaderParameter, ...headersFromBaseOptions, ...options.headers};\r\n\r\n            return {\r\n                url: toPathString(localVarUrlObj),\r\n                options: localVarRequestOptions,\r\n            };\r\n        },\r\n        /**\r\n         * \r\n         * @summary Returns municipalities of the given canton\r\n         * @param {string} canton two-char canton abbreviation\r\n         * @param {string} [language] language tag (RFC 4646 format language_code-COUNTRY_CODE, e.g. \\&quot;en-US\\&quot;)\r\n         * @param {*} [options] Override http request option.\r\n         * @throws {RequiredError}\r\n         */\r\n        cantonsCantonMunicipalitiesGet: async (canton: string, language?: string, options: any = {}): Promise<RequestArgs> => {\r\n            // verify required parameter 'canton' is not null or undefined\r\n            assertParamExists('cantonsCantonMunicipalitiesGet', 'canton', canton)\r\n            const localVarPath = `/cantons/{canton}/municipalities/`\r\n                .replace(`{${\"canton\"}}`, encodeURIComponent(String(canton)));\r\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\r\n            const localVarUrlObj = new URL(localVarPath, DUMMY_BASE_URL);\r\n            let baseOptions;\r\n            if (configuration) {\r\n                baseOptions = configuration.baseOptions;\r\n            }\r\n\r\n            const localVarRequestOptions = { method: 'GET', ...baseOptions, ...options};\r\n            const localVarHeaderParameter = {} as any;\r\n            const localVarQueryParameter = {} as any;\r\n\r\n            if (language !== undefined) {\r\n                localVarQueryParameter['language'] = language;\r\n            }\r\n\r\n\r\n    \r\n            setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\r\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\r\n            localVarRequestOptions.headers = {...localVarHeaderParameter, ...headersFromBaseOptions, ...options.headers};\r\n\r\n            return {\r\n                url: toPathString(localVarUrlObj),\r\n                options: localVarRequestOptions,\r\n            };\r\n        },\r\n        /**\r\n         * Municipalities with corona and geo-information\r\n         * @summary Returns municipalities and their corona- and geo-information where the given waypoints lay in.\r\n         * @param {string} [language] language tag (RFC 4646 format language_code-COUNTRY_CODE, e.g. \\&quot;en-US\\&quot;)\r\n         * @param {Array<CoordinateDTO>} [waypoints] Array of waypoints from route\r\n         * @param {*} [options] Override http request option.\r\n         * @throws {RequiredError}\r\n         */\r\n        waypointsPost: async (language?: string, waypoints?: Array<CoordinateDTO>, options: any = {}): Promise<RequestArgs> => {\r\n            const localVarPath = `/waypoints/`;\r\n            // use dummy base URL string because the URL constructor only accepts absolute URLs.\r\n            const localVarUrlObj = new URL(localVarPath, DUMMY_BASE_URL);\r\n            let baseOptions;\r\n            if (configuration) {\r\n                baseOptions = configuration.baseOptions;\r\n            }\r\n\r\n            const localVarRequestOptions = { method: 'POST', ...baseOptions, ...options};\r\n            const localVarHeaderParameter = {} as any;\r\n            const localVarQueryParameter = {} as any;\r\n\r\n            if (language !== undefined) {\r\n                localVarQueryParameter['language'] = language;\r\n            }\r\n\r\n\r\n    \r\n            localVarHeaderParameter['Content-Type'] = 'application/json';\r\n\r\n            setSearchParams(localVarUrlObj, localVarQueryParameter, options.query);\r\n            let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\r\n            localVarRequestOptions.headers = {...localVarHeaderParameter, ...headersFromBaseOptions, ...options.headers};\r\n            localVarRequestOptions.data = serializeDataIfNeeded(waypoints, localVarRequestOptions, configuration)\r\n\r\n            return {\r\n                url: toPathString(localVarUrlObj),\r\n                options: localVarRequestOptions,\r\n            };\r\n        },\r\n    }\r\n};\r\n\r\n/**\r\n * DefaultApi - functional programming interface\r\n * @export\r\n */\r\nexport const DefaultApiFp = function(configuration?: Configuration) {\r\n    const localVarAxiosParamCreator = DefaultApiAxiosParamCreator(configuration)\r\n    return {\r\n        /**\r\n         * \r\n         * @summary Returns incidences of the given canton with given date filter\r\n         * @param {string} canton two-char canton abbreviation\r\n         * @param {string} [dateFrom] dateFrom - dateFrom is inclusive. If not given, all datasets since beginning.\r\n         * @param {string} [dateTo] dateTo - dateTo is inclusive. If not given, all datasets till today.\r\n         * @param {string} [language] language tag (RFC 4646 format language_code-COUNTRY_CODE, e.g. \\&quot;en-US\\&quot;)\r\n         * @param {*} [options] Override http request option.\r\n         * @throws {RequiredError}\r\n         */\r\n        async cantonsCantonIncidencesGet(canton: string, dateFrom?: string, dateTo?: string, language?: string, options?: any): Promise<(axios?: AxiosInstance, basePath?: string) => AxiosPromise<Array<IncidenceDTO>>> {\r\n            const localVarAxiosArgs = await localVarAxiosParamCreator.cantonsCantonIncidencesGet(canton, dateFrom, dateTo, language, options);\r\n            return createRequestFunction(localVarAxiosArgs, globalAxios, BASE_PATH, configuration);\r\n        },\r\n        /**\r\n         * \r\n         * @summary Returns municipality of the given canton and bfs-nr\r\n         * @param {string} canton two-char canton abbreviation\r\n         * @param {string} bfsNr bfsNr\r\n         * @param {string} [language] language tag (RFC 4646 format language_code-COUNTRY_CODE, e.g. \\&quot;en-US\\&quot;)\r\n         * @param {*} [options] Override http request option.\r\n         * @throws {RequiredError}\r\n         */\r\n        async cantonsCantonMunicipalitiesBfsNrGet(canton: string, bfsNr: string, language?: string, options?: any): Promise<(axios?: AxiosInstance, basePath?: string) => AxiosPromise<MunicipalityMetadataDTO>> {\r\n            const localVarAxiosArgs = await localVarAxiosParamCreator.cantonsCantonMunicipalitiesBfsNrGet(canton, bfsNr, language, options);\r\n            return createRequestFunction(localVarAxiosArgs, globalAxios, BASE_PATH, configuration);\r\n        },\r\n        /**\r\n         * \r\n         * @summary Returns incidences of the given canton and bfs-nr with given date filter\r\n         * @param {string} canton two-char canton abbreviation\r\n         * @param {string} bfsNr bfsNr\r\n         * @param {string} [dateFrom] dateFrom - dateFrom is inclusive. If not given, all datasets since beginning.\r\n         * @param {string} [dateTo] dateTo - dateTo is inclusive. If not given, all datasets till today.\r\n         * @param {string} [language] language tag (RFC 4646 format language_code-COUNTRY_CODE, e.g. \\&quot;en-US\\&quot;)\r\n         * @param {*} [options] Override http request option.\r\n         * @throws {RequiredError}\r\n         */\r\n        async cantonsCantonMunicipalitiesBfsNrIncidencesGet(canton: string, bfsNr: string, dateFrom?: string, dateTo?: string, language?: string, options?: any): Promise<(axios?: AxiosInstance, basePath?: string) => AxiosPromise<Array<IncidenceDTO>>> {\r\n            const localVarAxiosArgs = await localVarAxiosParamCreator.cantonsCantonMunicipalitiesBfsNrIncidencesGet(canton, bfsNr, dateFrom, dateTo, language, options);\r\n            return createRequestFunction(localVarAxiosArgs, globalAxios, BASE_PATH, configuration);\r\n        },\r\n        /**\r\n         * \r\n         * @summary Returns municipalities of the given canton\r\n         * @param {string} canton two-char canton abbreviation\r\n         * @param {string} [language] language tag (RFC 4646 format language_code-COUNTRY_CODE, e.g. \\&quot;en-US\\&quot;)\r\n         * @param {*} [options] Override http request option.\r\n         * @throws {RequiredError}\r\n         */\r\n        async cantonsCantonMunicipalitiesGet(canton: string, language?: string, options?: any): Promise<(axios?: AxiosInstance, basePath?: string) => AxiosPromise<Array<MunicipalityMetadataDTO>>> {\r\n            const localVarAxiosArgs = await localVarAxiosParamCreator.cantonsCantonMunicipalitiesGet(canton, language, options);\r\n            return createRequestFunction(localVarAxiosArgs, globalAxios, BASE_PATH, configuration);\r\n        },\r\n        /**\r\n         * Municipalities with corona and geo-information\r\n         * @summary Returns municipalities and their corona- and geo-information where the given waypoints lay in.\r\n         * @param {string} [language] language tag (RFC 4646 format language_code-COUNTRY_CODE, e.g. \\&quot;en-US\\&quot;)\r\n         * @param {Array<CoordinateDTO>} [waypoints] Array of waypoints from route\r\n         * @param {*} [options] Override http request option.\r\n         * @throws {RequiredError}\r\n         */\r\n        async waypointsPost(language?: string, waypoints?: Array<CoordinateDTO>, options?: any): Promise<(axios?: AxiosInstance, basePath?: string) => AxiosPromise<Array<MunicipalityDTO>>> {\r\n            const localVarAxiosArgs = await localVarAxiosParamCreator.waypointsPost(language, waypoints, options);\r\n            return createRequestFunction(localVarAxiosArgs, globalAxios, BASE_PATH, configuration);\r\n        },\r\n    }\r\n};\r\n\r\n/**\r\n * DefaultApi - factory interface\r\n * @export\r\n */\r\nexport const DefaultApiFactory = function (configuration?: Configuration, basePath?: string, axios?: AxiosInstance) {\r\n    const localVarFp = DefaultApiFp(configuration)\r\n    return {\r\n        /**\r\n         * \r\n         * @summary Returns incidences of the given canton with given date filter\r\n         * @param {string} canton two-char canton abbreviation\r\n         * @param {string} [dateFrom] dateFrom - dateFrom is inclusive. If not given, all datasets since beginning.\r\n         * @param {string} [dateTo] dateTo - dateTo is inclusive. If not given, all datasets till today.\r\n         * @param {string} [language] language tag (RFC 4646 format language_code-COUNTRY_CODE, e.g. \\&quot;en-US\\&quot;)\r\n         * @param {*} [options] Override http request option.\r\n         * @throws {RequiredError}\r\n         */\r\n        cantonsCantonIncidencesGet(canton: string, dateFrom?: string, dateTo?: string, language?: string, options?: any): AxiosPromise<Array<IncidenceDTO>> {\r\n            return localVarFp.cantonsCantonIncidencesGet(canton, dateFrom, dateTo, language, options).then((request) => request(axios, basePath));\r\n        },\r\n        /**\r\n         * \r\n         * @summary Returns municipality of the given canton and bfs-nr\r\n         * @param {string} canton two-char canton abbreviation\r\n         * @param {string} bfsNr bfsNr\r\n         * @param {string} [language] language tag (RFC 4646 format language_code-COUNTRY_CODE, e.g. \\&quot;en-US\\&quot;)\r\n         * @param {*} [options] Override http request option.\r\n         * @throws {RequiredError}\r\n         */\r\n        cantonsCantonMunicipalitiesBfsNrGet(canton: string, bfsNr: string, language?: string, options?: any): AxiosPromise<MunicipalityMetadataDTO> {\r\n            return localVarFp.cantonsCantonMunicipalitiesBfsNrGet(canton, bfsNr, language, options).then((request) => request(axios, basePath));\r\n        },\r\n        /**\r\n         * \r\n         * @summary Returns incidences of the given canton and bfs-nr with given date filter\r\n         * @param {string} canton two-char canton abbreviation\r\n         * @param {string} bfsNr bfsNr\r\n         * @param {string} [dateFrom] dateFrom - dateFrom is inclusive. If not given, all datasets since beginning.\r\n         * @param {string} [dateTo] dateTo - dateTo is inclusive. If not given, all datasets till today.\r\n         * @param {string} [language] language tag (RFC 4646 format language_code-COUNTRY_CODE, e.g. \\&quot;en-US\\&quot;)\r\n         * @param {*} [options] Override http request option.\r\n         * @throws {RequiredError}\r\n         */\r\n        cantonsCantonMunicipalitiesBfsNrIncidencesGet(canton: string, bfsNr: string, dateFrom?: string, dateTo?: string, language?: string, options?: any): AxiosPromise<Array<IncidenceDTO>> {\r\n            return localVarFp.cantonsCantonMunicipalitiesBfsNrIncidencesGet(canton, bfsNr, dateFrom, dateTo, language, options).then((request) => request(axios, basePath));\r\n        },\r\n        /**\r\n         * \r\n         * @summary Returns municipalities of the given canton\r\n         * @param {string} canton two-char canton abbreviation\r\n         * @param {string} [language] language tag (RFC 4646 format language_code-COUNTRY_CODE, e.g. \\&quot;en-US\\&quot;)\r\n         * @param {*} [options] Override http request option.\r\n         * @throws {RequiredError}\r\n         */\r\n        cantonsCantonMunicipalitiesGet(canton: string, language?: string, options?: any): AxiosPromise<Array<MunicipalityMetadataDTO>> {\r\n            return localVarFp.cantonsCantonMunicipalitiesGet(canton, language, options).then((request) => request(axios, basePath));\r\n        },\r\n        /**\r\n         * Municipalities with corona and geo-information\r\n         * @summary Returns municipalities and their corona- and geo-information where the given waypoints lay in.\r\n         * @param {string} [language] language tag (RFC 4646 format language_code-COUNTRY_CODE, e.g. \\&quot;en-US\\&quot;)\r\n         * @param {Array<CoordinateDTO>} [waypoints] Array of waypoints from route\r\n         * @param {*} [options] Override http request option.\r\n         * @throws {RequiredError}\r\n         */\r\n        waypointsPost(language?: string, waypoints?: Array<CoordinateDTO>, options?: any): AxiosPromise<Array<MunicipalityDTO>> {\r\n            return localVarFp.waypointsPost(language, waypoints, options).then((request) => request(axios, basePath));\r\n        },\r\n    };\r\n};\r\n\r\n/**\r\n * DefaultApi - object-oriented interface\r\n * @export\r\n * @class DefaultApi\r\n * @extends {BaseAPI}\r\n */\r\nexport class DefaultApi extends BaseAPI {\r\n    /**\r\n     * \r\n     * @summary Returns incidences of the given canton with given date filter\r\n     * @param {string} canton two-char canton abbreviation\r\n     * @param {string} [dateFrom] dateFrom - dateFrom is inclusive. If not given, all datasets since beginning.\r\n     * @param {string} [dateTo] dateTo - dateTo is inclusive. If not given, all datasets till today.\r\n     * @param {string} [language] language tag (RFC 4646 format language_code-COUNTRY_CODE, e.g. \\&quot;en-US\\&quot;)\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     * @memberof DefaultApi\r\n     */\r\n    public cantonsCantonIncidencesGet(canton: string, dateFrom?: string, dateTo?: string, language?: string, options?: any) {\r\n        return DefaultApiFp(this.configuration).cantonsCantonIncidencesGet(canton, dateFrom, dateTo, language, options).then((request) => request(this.axios, this.basePath));\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @summary Returns municipality of the given canton and bfs-nr\r\n     * @param {string} canton two-char canton abbreviation\r\n     * @param {string} bfsNr bfsNr\r\n     * @param {string} [language] language tag (RFC 4646 format language_code-COUNTRY_CODE, e.g. \\&quot;en-US\\&quot;)\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     * @memberof DefaultApi\r\n     */\r\n    public cantonsCantonMunicipalitiesBfsNrGet(canton: string, bfsNr: string, language?: string, options?: any) {\r\n        return DefaultApiFp(this.configuration).cantonsCantonMunicipalitiesBfsNrGet(canton, bfsNr, language, options).then((request) => request(this.axios, this.basePath));\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @summary Returns incidences of the given canton and bfs-nr with given date filter\r\n     * @param {string} canton two-char canton abbreviation\r\n     * @param {string} bfsNr bfsNr\r\n     * @param {string} [dateFrom] dateFrom - dateFrom is inclusive. If not given, all datasets since beginning.\r\n     * @param {string} [dateTo] dateTo - dateTo is inclusive. If not given, all datasets till today.\r\n     * @param {string} [language] language tag (RFC 4646 format language_code-COUNTRY_CODE, e.g. \\&quot;en-US\\&quot;)\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     * @memberof DefaultApi\r\n     */\r\n    public cantonsCantonMunicipalitiesBfsNrIncidencesGet(canton: string, bfsNr: string, dateFrom?: string, dateTo?: string, language?: string, options?: any) {\r\n        return DefaultApiFp(this.configuration).cantonsCantonMunicipalitiesBfsNrIncidencesGet(canton, bfsNr, dateFrom, dateTo, language, options).then((request) => request(this.axios, this.basePath));\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @summary Returns municipalities of the given canton\r\n     * @param {string} canton two-char canton abbreviation\r\n     * @param {string} [language] language tag (RFC 4646 format language_code-COUNTRY_CODE, e.g. \\&quot;en-US\\&quot;)\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     * @memberof DefaultApi\r\n     */\r\n    public cantonsCantonMunicipalitiesGet(canton: string, language?: string, options?: any) {\r\n        return DefaultApiFp(this.configuration).cantonsCantonMunicipalitiesGet(canton, language, options).then((request) => request(this.axios, this.basePath));\r\n    }\r\n\r\n    /**\r\n     * Municipalities with corona and geo-information\r\n     * @summary Returns municipalities and their corona- and geo-information where the given waypoints lay in.\r\n     * @param {string} [language] language tag (RFC 4646 format language_code-COUNTRY_CODE, e.g. \\&quot;en-US\\&quot;)\r\n     * @param {Array<CoordinateDTO>} [waypoints] Array of waypoints from route\r\n     * @param {*} [options] Override http request option.\r\n     * @throws {RequiredError}\r\n     * @memberof DefaultApi\r\n     */\r\n    public waypointsPost(language?: string, waypoints?: Array<CoordinateDTO>, options?: any) {\r\n        return DefaultApiFp(this.configuration).waypointsPost(language, waypoints, options).then((request) => request(this.axios, this.basePath));\r\n    }\r\n}\r\n\r\n\r\n","/* tslint:disable */\r\n/* eslint-disable */\r\n/**\r\n * WODSS Gruppe 02 Backend API\r\n * API for WODSS Gruppe 02 Backend\r\n *\r\n * The version of the OpenAPI document: 0.0.1\r\n * \r\n *\r\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\r\n * https://openapi-generator.tech\r\n * Do not edit the class manually.\r\n */\r\n\r\n\r\nexport interface ConfigurationParameters {\r\n    apiKey?: string | Promise<string> | ((name: string) => string) | ((name: string) => Promise<string>);\r\n    username?: string;\r\n    password?: string;\r\n    accessToken?: string | Promise<string> | ((name?: string, scopes?: string[]) => string) | ((name?: string, scopes?: string[]) => Promise<string>);\r\n    basePath?: string;\r\n    baseOptions?: any;\r\n    formDataCtor?: new () => any;\r\n}\r\n\r\nexport class Configuration {\r\n    /**\r\n     * parameter for apiKey security\r\n     * @param name security name\r\n     * @memberof Configuration\r\n     */\r\n    apiKey?: string | Promise<string> | ((name: string) => string) | ((name: string) => Promise<string>);\r\n    /**\r\n     * parameter for basic security\r\n     *\r\n     * @type {string}\r\n     * @memberof Configuration\r\n     */\r\n    username?: string;\r\n    /**\r\n     * parameter for basic security\r\n     *\r\n     * @type {string}\r\n     * @memberof Configuration\r\n     */\r\n    password?: string;\r\n    /**\r\n     * parameter for oauth2 security\r\n     * @param name security name\r\n     * @param scopes oauth2 scope\r\n     * @memberof Configuration\r\n     */\r\n    accessToken?: string | Promise<string> | ((name?: string, scopes?: string[]) => string) | ((name?: string, scopes?: string[]) => Promise<string>);\r\n    /**\r\n     * override base path\r\n     *\r\n     * @type {string}\r\n     * @memberof Configuration\r\n     */\r\n    basePath?: string;\r\n    /**\r\n     * base options for axios calls\r\n     *\r\n     * @type {any}\r\n     * @memberof Configuration\r\n     */\r\n    baseOptions?: any;\r\n    /**\r\n     * The FormData constructor that will be used to create multipart form data\r\n     * requests. You can inject this here so that execution environments that\r\n     * do not support the FormData class can still run the generated client.\r\n     *\r\n     * @type {new () => FormData}\r\n     */\r\n    formDataCtor?: new () => any;\r\n\r\n    constructor(param: ConfigurationParameters = {}) {\r\n        this.apiKey = param.apiKey;\r\n        this.username = param.username;\r\n        this.password = param.password;\r\n        this.accessToken = param.accessToken;\r\n        this.basePath = param.basePath;\r\n        this.baseOptions = param.baseOptions;\r\n        this.formDataCtor = param.formDataCtor;\r\n    }\r\n\r\n    /**\r\n     * Check if the given MIME is a JSON MIME.\r\n     * JSON MIME examples:\r\n     *   application/json\r\n     *   application/json; charset=UTF8\r\n     *   APPLICATION/JSON\r\n     *   application/vnd.company+json\r\n     * @param mime - MIME (Multipurpose Internet Mail Extensions)\r\n     * @return True if the given MIME is JSON, false otherwise.\r\n     */\r\n    public isJsonMime(mime: string): boolean {\r\n        const jsonMime: RegExp = new RegExp('^(application\\/json|[^;/ \\t]+\\/[^;/ \\t]+[+]json)[ \\t]*(;.*)?$', 'i');\r\n        return mime !== null && (jsonMime.test(mime) || mime.toLowerCase() === 'application/json-patch+json');\r\n    }\r\n}\r\n","import React, {Component} from \"react\";\r\nimport \"../scss/Gmap.scss\";\r\nimport {injectIntl, WrappedComponentProps} from \"react-intl\";\r\nimport InfoBubble from \"./InfoBubble\";\r\nimport {areLocationArraysEqual, areLocationsEqual} from \"../helpers/AreLocationsEqual\";\r\nimport {removeMarker, removePolygons, removeRoute} from \"../helpers/MapInteractions\";\r\nimport {DefaultApi} from \"../api/api\";\r\nimport {Configuration, CoordinateDTO, MunicipalityDTO} from \"../api\";\r\nimport {HiCheckCircle, ImSpinner2} from \"react-icons/all\";\r\nimport {RouteInfos} from \"../types/RouteInfos\";\r\nimport {GmapProps, GmapState} from \"../types/Gmap\";\r\nimport GoogleMapReact, {Coords} from \"google-map-react\";\r\nimport axios from \"axios\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { IncomingHttpHeaders } from \"node:http2\";\r\n\r\nconst DefaultApiConfig              = new Configuration({basePath: process.env.REACT_APP_SERVER_URL});\r\n\r\n// Request Cancelation ideas from: \r\n// https://julietonyekaoha.medium.com/react-cancel-all-axios-request-in-componentwillunmount-e5b2c978c071\r\n// https://medium.com/tribalscale/how-to-automate-api-code-generation-openapi-swagger-and-boost-productivity-1176a0056d8a\r\n// const source                        = axios.CancelToken.source();\r\n// const axiosInstance                 = axios.create({cancelToken: source.token});\r\n// const API                           = new DefaultApi(DefaultApiConfig, DefaultApiConfig.basePath, axiosInstance);\r\n\r\nconst API                           = new DefaultApi(DefaultApiConfig);\r\nconst GOOGLE_API_KEY                = process.env.REACT_APP_GOOGLE_API_KEY!;\r\nconst DEFAULT_MAP_CENTER            = { lat: Number.parseFloat(process.env.REACT_APP_DEFAULT_MAP_CENTER_LAT!), \r\n                                        lng: Number.parseFloat(process.env.REACT_APP_DEFAULT_MAP_CENTER_LNG!) };\r\nconst MAP_OPTIONS                   = () => { return {styles: [{stylers: [{'saturation': -99}, {'gamma': .8}, {'lightness': 5}]}]}};\r\nconst POLY_OPTIONS                  = { strokeOpacity: .5,  fillOpacity: .3 };\r\nconst POLY_OPTIONS_HOVER            = { strokeOpacity: .95, fillOpacity: .6 };\r\nconst WAYPOINT_DISTANCER_CHUNKER    = Number.parseInt(process.env.REACT_APP_WAYPOINT_DISTANCE_CHUNKER!);\r\n\r\n/**\r\n * Display a google map and provide all necessary interactions with the map.\r\n */\r\nclass GoogleMaps extends Component<GmapProps & WrappedComponentProps, GmapState> {\r\n    private readonly directionsService:         any;\r\n    private readonly directionsRenderer:        google.maps.DirectionsRenderer;\r\n    private readonly mapPolygons:               google.maps.Polygon[];\r\n    private          locationMarker:            google.maps.Marker | undefined;\r\n    private          locationFromBefore:        Coords | undefined;\r\n    private          locationToBefore:          Coords | undefined;\r\n    private          locationStopOversBefore:   Coords[] | undefined;\r\n    private          travelModeBefore:          google.maps.TravelMode;\r\n\r\n    // set default state\r\n    state: GmapState = {\r\n        defaultCenter:      DEFAULT_MAP_CENTER,\r\n        center:             DEFAULT_MAP_CENTER,\r\n        defaultZoom:        12,\r\n        map:                null,\r\n        mapLoaded:          false,\r\n        isLoading:          false,\r\n        loaded:             false,\r\n        uniqueId:           0,\r\n        infoBubble: {\r\n            show:           false,\r\n            lat:            '',\r\n            lng:            '',\r\n            name:           '',\r\n            zip:            0,\r\n            incidence:      0\r\n        },\r\n        timeoutCantons:     [],\r\n        noServerResponse:   false,\r\n        chunkSize:          0\r\n    }\r\n\r\n    constructor(props: (GmapProps & WrappedComponentProps)) {\r\n        super(props);\r\n\r\n        this.directionsService          = new google.maps.DirectionsService();\r\n        this.directionsRenderer         = new google.maps.DirectionsRenderer();\r\n        this.mapPolygons                = [];\r\n        this.locationMarker             = undefined;\r\n        this.locationFromBefore         = this.props.locationFrom;\r\n        this.locationToBefore           = this.props.locationTo;\r\n        this.locationStopOversBefore    = this.props.locationStopOvers;\r\n        this.travelModeBefore           = this.props.travelMode;\r\n    }\r\n\r\n    /**\r\n     * send a rest call with waypoints to the backend and get a list of municipalities along the route back.\r\n     * @param {CoordinateDTO[]} waypoints - All or a chunk if waypoints along the route\r\n     * @param {(data: MunicipalityDTO[]) => void } callback - Callback to handle the response\r\n     */\r\n    sendWaypointsToBackend(waypoints: CoordinateDTO[], callback: (data: MunicipalityDTO[]) => void){\r\n        API.waypointsPost(this.props.selectedLocale, waypoints).then(\r\n          (response: {\r\n            data: MunicipalityDTO[];\r\n            headers: IncomingHttpHeaders;\r\n          }) => {\r\n            callback(response.data);\r\n            if (response.headers && response.headers[\"x-cantons-timeout\"]) {\r\n              let cantons = response.headers[\"x-cantons-timeout\"]\r\n                .toString()\r\n                .replace(\"{\", \"\")\r\n                .replace(\"}\", \"\")\r\n                .replaceAll(\"'\", \"\")\r\n                .split(\", \");\r\n              let distinctCantons = cantons.filter(\r\n                (v, i, a) => a.indexOf(v) === i\r\n              );\r\n\r\n              distinctCantons = distinctCantons.filter(\r\n                (s) => this.state.timeoutCantons.indexOf(s) === -1\r\n              );\r\n              if (distinctCantons.length > 0) {\r\n                this.setState((state: GmapState, props: GmapProps) => ({\r\n                  timeoutCantons: distinctCantons.concat(\r\n                    state.timeoutCantons\r\n                  ),\r\n                }));\r\n                this.showToast(\r\n                  this.props.intl.formatMessage({ id: \"errorMessageTimeout\" }) +\r\n                    distinctCantons.join(\", \")\r\n                );\r\n              }\r\n            }\r\n          },\r\n          (error: Error) => {\r\n            this.handleApiError(error);\r\n          }\r\n        ).finally(()=>{\r\n            this.setState((state: GmapState, props: GmapProps) => ({\r\n                chunkSize: state.chunkSize-1\r\n              }),()=>{\r\n                  if(this.state.chunkSize === 0){\r\n                        this.setState({ isLoading: false });\r\n                  }\r\n              });\r\n        });\r\n    }\r\n\r\n    handleApiError(error: any){\r\n        let errorMessage = \"An error happened.\";\r\n        /**\r\n         * Error Handling code from https://gist.github.com/fgilio/230ccd514e9381fafa51608fcf137253\r\n         */\r\n        if (error.response) {\r\n            /*\r\n             * The request was made and the server responded with a\r\n             * status code that falls out of the range of 2xx\r\n             */\r\n            console.log(error.response.data);\r\n            console.log(error.response.status);\r\n            console.log(error.response.headers);\r\n            errorMessage = this.props.intl.formatMessage({ id: \"errorMessageHttpError\" }) + error.response.status;\r\n        } else if (error.request) {\r\n            /*\r\n             * The request was made but no response was received, `error.request`\r\n             * is an instance of XMLHttpRequest in the browser and an instance\r\n             * of http.ClientRequest in Node.js\r\n             */\r\n            if(!this.state.noServerResponse){\r\n                this.setState((state: GmapState, props: GmapProps) => ({\r\n                    noServerResponse: true\r\n                }));\r\n                console.log(error.request);\r\n                errorMessage = this.props.intl.formatMessage({ id: \"errorMessageNoResponse\" });\r\n            }else{\r\n                return;\r\n            }\r\n            \r\n            \r\n        } else {\r\n            // Something happened in setting up the request and triggered an Error\r\n            console.log('Error', error.message);\r\n            errorMessage =  this.props.intl.formatMessage({ id: \"errorMessageRequestError\" }) +error.message;\r\n        }\r\n        console.log(error);\r\n        this.showToast(errorMessage);\r\n    }\r\n\r\n    showToast(errorMessage: string){\r\n        toast(<div><span className=\"errorTitle\">{this.props.intl.formatMessage({id: 'errorEmoji'}) +' '+ \r\n            this.props.intl.formatMessage({id: 'error'})}</span><br/>{errorMessage}</div> , {\r\n            position: \"bottom-right\",\r\n            autoClose: 5000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n            type: \"dark\" \r\n            });\r\n    }\r\n\r\n    /**\r\n     * Insert a municipality in the correct position in the list of municipalities.\r\n     *\r\n     * This is necessary because there can be several asynchronous requests to the backend\r\n     * and the order of the responses does not have to match to the order which they have been sent.\r\n     * @param {MunicipalityDTO} m    - Municipality to add\r\n     * @param {RouteInfos} routeInfo - Current RouteInfos\r\n     * @param {number} chunkIndex    - Index of waypoint chunk\r\n     */\r\n    insertMunicipalityToRouteInfo(m: MunicipalityDTO, routeInfo: RouteInfos, chunkIndex: number) {\r\n        let i: number;\r\n        let insertMunicipality = true;\r\n\r\n        // check if municipality already exist\r\n        for(i = 0; i < routeInfo.municipalities.length; i++) {\r\n            if(routeInfo.municipalities[i].municipality.name === m.name){\r\n                if(routeInfo.municipalities[i].index > chunkIndex) {\r\n                    // delete existing municipality and insert the new one\r\n                    insertMunicipality = true;\r\n                    routeInfo.municipalities.splice(i, 1);\r\n                } else {\r\n                    // a municipality exist earlier on the route -> do nothing\r\n                    insertMunicipality = false;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n\r\n        if(insertMunicipality) {\r\n            for(i = 0; i < routeInfo.municipalities.length; i++) {\r\n                // insert at current position if current index is bigger\r\n                if(chunkIndex < routeInfo.municipalities[i].index) {\r\n                    break;\r\n                }\r\n\r\n                // insert at next position if next index is bigger on no next element exist\r\n                if(chunkIndex < routeInfo.municipalities[i+1]?.index || !routeInfo.municipalities[i+1]) {\r\n                    i++; break;\r\n                }\r\n            }\r\n\r\n            // insert municipality\r\n            routeInfo.municipalities.splice(i, 0, {\r\n                municipality: m,\r\n                index: chunkIndex\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Either calculate a route and display it or if the origin or destination is not available, set a single marker.\r\n     *\r\n     * In addition, a polygon with the boundaries of each municipality along the route is drawn on the map\r\n     * and coloured according to the incidence.\r\n     * If the municipality is hovered, an info box appears with the name of the municipality and the incidence.\r\n     */\r\n    handleMap = () => {\r\n        this.directionsRenderer.setMap(this.state.map);\r\n\r\n        // if location from and to are set, calculate and display route\r\n        if (this.props.locationFrom && this.props.locationTo) {\r\n            const uniqueId = Date.now();\r\n            this.setState({ uniqueId: uniqueId });\r\n            const stopOverWaypoints = this.props.locationStopOvers && this.props.locationStopOvers.length > 0\r\n                ? this.props.locationStopOvers\r\n                    .filter(s => (s.lat && s.lng)) // necessary as stopover might be empty\r\n                    .map((s) => {return { location: s, stopover: true }})\r\n                : undefined;\r\n\r\n            // remove all polygons and markers\r\n            removePolygons(this.mapPolygons);\r\n            removeMarker(this.locationMarker);\r\n\r\n            let directionServiceOptions: any = {\r\n                origin:      this.props.locationFrom,\r\n                destination: this.props.locationTo,\r\n                travelMode:  this.props.travelMode\r\n            }\r\n\r\n            // travel mode \"transit\" only accepts two waypoints\r\n            if(this.props.travelMode !== google.maps.TravelMode.TRANSIT){\r\n                directionServiceOptions.waypoints = stopOverWaypoints;\r\n            }\r\n            // send the request to google api\r\n            this.directionsService.route(directionServiceOptions,\r\n            async (result: any, status: any) => {\r\n                // handle the response (route) only if it's valid\r\n                if (result && status === google.maps.DirectionsStatus.OK) {\r\n                    const routeInfo: RouteInfos                     = this.computeRouteInfos(result);\r\n                    const waypoints: Coords[]                       = [];\r\n                    const waypointsChunks: any[]                    = [];\r\n                    const currentPolygons: (string | undefined)[]   = [];\r\n                    let chunkSize: number;\r\n                    this.setState({ isLoading: true });\r\n\r\n                    // show route on map\r\n                    this.directionsRenderer.setDirections(result);\r\n\r\n                    // set infos (distance and duration) for sidebar\r\n                    this.props.routeChanged(routeInfo);\r\n\r\n                    // prepare waypoints for backend call\r\n                    if(this.props.travelMode === google.maps.TravelMode.TRANSIT) {\r\n                        // if travelmode is transit, get only waypoints from train stops (steps)\r\n                        result.routes[0].legs.forEach((wps: any) => {\r\n                            wps.steps.forEach((wp: any) => {\r\n                                this.pushWaypoint(waypoints, wp.start_location);\r\n                                this.pushWaypoint(waypoints, wp.end_location);\r\n                            });\r\n                        });\r\n                    } else {\r\n                        // get all waypoints from route\r\n                        result.routes[0].overview_path.forEach((wp: any) => {\r\n                            this.pushWaypoint(waypoints, wp);\r\n                        });\r\n                    }\r\n\r\n\r\n                    // calculate a reasonable chunksize based on the length of the route\r\n                    chunkSize = Math.ceil(waypoints.length / (Math.ceil(routeInfo.distance / WAYPOINT_DISTANCER_CHUNKER)));\r\n\r\n                    // split waypoints-array in chunks\r\n                    for (let i = 0, j = waypoints.length; i < j; i += chunkSize) {\r\n                        waypointsChunks.push(waypoints.slice(i,i + chunkSize));\r\n                    }\r\n\r\n                    // if no waypoints exist show success message directly\r\n                    if(waypointsChunks.length === 0) this.municipalitiesLoaded();\r\n\r\n                    \r\n                    \r\n\r\n                    // reset timeout cantons due to new request chunks\r\n                    this.setState({timeoutCantons: []});\r\n                    this.setState({noServerResponse: false});\r\n\r\n                    this.setState({chunkSize: waypointsChunks.length});\r\n\r\n                    /* call backend for municipalities along the route for each waypoint-chunk */\r\n                    waypointsChunks.forEach((wps: CoordinateDTO[], chunkIndex: number) => {\r\n                        this.sendWaypointsToBackend(wps, data => {\r\n                            // handle municipality polygons only if no new route has been calculated in the meantime\r\n                            if(data && data.length > 0 && this.state.uniqueId === uniqueId) {\r\n                                data.forEach((m: MunicipalityDTO) => {\r\n                                    // insert municipality in the correct position in the list of municipalities\r\n                                    this.insertMunicipalityToRouteInfo(m, routeInfo, chunkIndex);\r\n\r\n                                    // insert municipality polygon only to map if it doesn't already exist\r\n                                    if(!currentPolygons.includes(m.name)) {\r\n                                        currentPolygons.push(m.name);\r\n\r\n                                        // if geo shapes are present, iterate through all and add it to the map\r\n                                        if (m.geo_shapes) {\r\n                                            const bounds = new google.maps.LatLngBounds();\r\n\r\n                                            m.geo_shapes.forEach((geo_shape: CoordinateDTO[]) => {\r\n                                                // create new polygon\r\n                                                const gPolygon = new google.maps.Polygon(\r\n                                                    {\r\n                                                        paths: geo_shape.map((coords: CoordinateDTO) => {\r\n                                                            const pos = {\r\n                                                                lat: coords.lat || 0,\r\n                                                                lng: coords.lng || 0\r\n                                                            };\r\n\r\n                                                            bounds.extend(pos);\r\n                                                            return pos;\r\n                                                        }),\r\n                                                        strokeWeight: 2,\r\n                                                        strokeColor: m.incidence_color,\r\n                                                        fillColor: m.incidence_color,\r\n                                                        map: this.state.map,\r\n                                                        ...POLY_OPTIONS\r\n                                                    }\r\n                                                );\r\n\r\n                                                // mouseover listener to show info bubble\r\n                                                gPolygon.addListener(\"mouseover\", () => {\r\n                                                    gPolygon.setOptions(POLY_OPTIONS_HOVER);\r\n                                                    \r\n                                                    this.setState({\r\n                                                        infoBubble: {\r\n                                                            show: true,\r\n                                                            lat: bounds.getCenter().lat().toString(),\r\n                                                            lng: bounds.getCenter().lng().toString(),\r\n                                                            name: m.name,\r\n                                                            zip: m.plz,\r\n                                                            incidence: m.incidence\r\n                                                        }\r\n                                                    });\r\n                                                });\r\n\r\n                                                // mouseout listener to hide info bubble\r\n                                                gPolygon.addListener(\"mouseout\", () => {\r\n                                                    gPolygon.setOptions(POLY_OPTIONS);\r\n\r\n                                                    this.setState({\r\n                                                        infoBubble: {\r\n                                                            ...this.state.infoBubble,\r\n                                                            show: false\r\n                                                        }\r\n                                                    });\r\n                                                });\r\n\r\n                                                // mouseout listener to hide info bubble\r\n                                                gPolygon.addListener(\"click\", () => {\r\n                                                    gPolygon.setOptions(POLY_OPTIONS);\r\n\r\n                                                    this.props.selectedMunicipalityChanged(m);\r\n                                                });\r\n\r\n                                                // add polygon to map\r\n                                                this.mapPolygons.push(gPolygon);\r\n                                            });\r\n\r\n                                            // compute incidence average, set infos for sidebar and fire a change event\r\n                                            this.computeRouteIncidenceRollingAVG(routeInfo, m.incidence);\r\n                                            this.props.routeChanged(routeInfo);\r\n                                        } else {\r\n                                            console.warn('ERROR: no geo_shapes found')\r\n                                        }\r\n                                    }\r\n                                });\r\n\r\n                                // if the last chunk is processed show success message\r\n                                if(chunkIndex+1 === waypointsChunks.length) {\r\n                                    // show success message\r\n                                    this.municipalitiesLoaded();\r\n                                }\r\n                            }\r\n                        });\r\n                    });\r\n                } else {\r\n                    console.error(`error fetching directions ${result}`);\r\n                }\r\n            });\r\n        } else {\r\n            // set a marker if locationFrom or locationTo empty yet\r\n\r\n            // remove route, marker and polygons\r\n            this.props.routeChanged({distance: 0, duration: 0, incidence: null, municipalities: []});\r\n            removeRoute(this.directionsRenderer);\r\n            removeMarker(this.locationMarker);\r\n            removePolygons(this.mapPolygons);\r\n\r\n            // set the marker at the desired location\r\n            const pos = this.props.locationFrom || this.props.locationTo;\r\n            if (pos) {\r\n                this.locationMarker = new google.maps.Marker({\r\n                    position: pos,\r\n                    map:      this.state.map,\r\n                });\r\n\r\n                // center the map to the marker (timeout to bypass warning message in browser)\r\n                if (this.state.center !== pos) {\r\n                    setTimeout(() => this.setState({ center: pos }), 0)\r\n                }\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    /**\r\n     * Add a waypoint to the waypoint-array from route.\r\n     * @param {(lat: number; lng: number;)[]} waypoints        - Waypoint-array from route\r\n     * @param {lat: () => string; lng: () => string;} waypoint - Waypoint to add\r\n     */\r\n    pushWaypoint(waypoints: { lat: number; lng: number; }[], waypoint: { lat: () => string; lng: () => string; }) {\r\n        waypoints.push({\r\n            lat: parseFloat(waypoint.lat()),\r\n            lng: parseFloat(waypoint.lng())\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Hide loading messagre and show success message for 6sec\r\n     */\r\n    municipalitiesLoaded() {\r\n        this.setState({ isLoading: false });\r\n        this.setState({ loaded: true });\r\n        setTimeout(() => this.setState({ loaded: false }), 6000);\r\n    }\r\n\r\n    /**\r\n     * Calculate the total distance and duration of the first (best) route.\r\n     * @param {google.maps.DirectionsResult} routes - All routes returned by the google api\r\n     */\r\n    computeRouteInfos(routes: google.maps.DirectionsResult) {\r\n        const route = routes.routes[0];\r\n\r\n        // prepare RouteInfos\r\n        let result = {\r\n            distance:          0,\r\n            duration:          0,\r\n            incidence:         null,\r\n            municipalities:    []\r\n        };\r\n\r\n        // if no route or route segments are found, calculate nothing and return\r\n        if (!route || !route.legs) return result;\r\n\r\n        // loop through all legs (sections) of a route\r\n        route.legs.forEach((leg: any) => {\r\n            result.distance  += leg.distance!.value;\r\n            result.duration  += leg.duration!.value;\r\n        });\r\n\r\n\r\n        result.distance /= 1000; // distance in km\r\n        result.duration /= 60;   // duration in minutes\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Calculate the rolling average of all incidence values of the municipalities along the route.\r\n     * It must be calculated rolling because many requests can be sent or received in any order (asynchronous).\r\n     * @param {RouteInfos} routeInfo         - Object with route infos\r\n     * @param {number | undefined} incidence - Incidence value to add\r\n     */\r\n    computeRouteIncidenceRollingAVG(routeInfo: RouteInfos, incidence: number | undefined) {\r\n        let result = 0, numMunicipalities = 0\r\n\r\n        // calculate the number of municipalities with a valid incidence value (>= 0)\r\n        routeInfo.municipalities.forEach((m: { municipality: MunicipalityDTO }) => {\r\n            if(m.municipality.incidence || m.municipality.incidence === 0) numMunicipalities++;\r\n        });\r\n\r\n        // If it's not the first round, calculate the new average\r\n        if(incidence || incidence === 0) {\r\n            // this check is for the only first round\r\n            if(routeInfo.incidence || routeInfo.incidence === 0){\r\n                result = (numMunicipalities - 1) * routeInfo.incidence;\r\n                result += incidence;\r\n                routeInfo.incidence = result / numMunicipalities;\r\n            } else {\r\n                routeInfo.incidence = incidence;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Calculate and display only a new route if the travelmode or a location has really been changed.\r\n     */\r\n    componentDidUpdate() {\r\n        if ((\r\n                !areLocationsEqual(this.locationFromBefore, this.props.locationFrom) ||\r\n                !areLocationsEqual(this.locationToBefore, this.props.locationTo) ||\r\n                !areLocationArraysEqual(this.locationStopOversBefore, this.props.locationStopOvers)\r\n            ) || this.props.travelMode !== this.travelModeBefore\r\n        ) {\r\n\r\n            // TODO: Discuss this. this should be the right place for cancellation of previous requests?\r\n            // if(source) source.cancel(\"Timeout of 30 seconds reached.\");\r\n            \r\n            // if a location has been changed, backup the current values\r\n            this.locationFromBefore         = this.props.locationFrom;\r\n            this.locationToBefore           = this.props.locationTo;\r\n            this.locationStopOversBefore    = this.props.locationStopOvers;\r\n            this.travelModeBefore           = this.props.travelMode;\r\n            \r\n            // handle the map only if it's fully loaded\r\n            this.state.mapLoaded && this.handleMap();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Render HTMl output\r\n     */\r\n    render() {\r\n        const { defaultCenter, defaultZoom, center } = this.state;\r\n        const { intl } = this.props;\r\n\r\n        return (\r\n          <div className={\"gmap-wrapper\"}>\r\n            <ToastContainer\r\n                position=\"bottom-center\"\r\n                autoClose={5000}\r\n                hideProgressBar={false}\r\n                newestOnTop\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n                className=\"toast-container\"\r\n            />\r\n            {/* Show preloader whole the municipalities are loading */}\r\n            { this.state.isLoading &&\r\n                <div className='is-loading'>\r\n                    <ImSpinner2 className='icon-spin' />\r\n                    <span>{intl.formatMessage({ id: \"loadingIncidenceOverlay\" })}</span>\r\n                </div>\r\n                }\r\n\r\n                {/* Show success message if the municipalities are loaded */}\r\n                { this.state.loaded &&\r\n                <div className='loading-finished'>\r\n                    <HiCheckCircle />\r\n                    <span>{intl.formatMessage({ id: \"loadingFinished\" })}</span>\r\n                </div>\r\n                }\r\n\r\n                {/* Goole map component */}\r\n                <GoogleMapReact\r\n                    bootstrapURLKeys  = { { key: GOOGLE_API_KEY } }\r\n                    defaultCenter     = { defaultCenter }\r\n                    defaultZoom       = { defaultZoom }\r\n                    center            = { center }\r\n                    options           = { MAP_OPTIONS}\r\n                    onGoogleApiLoaded = { ({ map }) => {\r\n                        this.setState({\r\n                            map:       map,\r\n                            mapLoaded: true\r\n                        });\r\n                    }}\r\n                    yesIWantToUseGoogleMapApiInternals\r\n                >\r\n                    {/* Only one InfoBubble for all municipalities because only one can be displayed at once. */}\r\n                    <InfoBubble\r\n                        lat  = { this.state.infoBubble.lat }\r\n                        lng  = { this.state.infoBubble.lng }\r\n                        data = { this.state.infoBubble     }\r\n                    />\r\n            </GoogleMapReact>\r\n          </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default injectIntl(GoogleMaps);\r\n","import React from 'react';\r\nimport \"../scss/SearchBar.scss\";\r\nimport {SearchBoxProps, SearchBoxState} from \"../types/SearchBar\";\r\nimport PlacesAutocomplete, {geocodeByAddress, getLatLng} from 'react-places-autocomplete';\r\n\r\n/**\r\n * Provides a search box for a location on the map.\r\n * Based on the searchterm, suggestions of locations are made.\r\n */\r\nclass SearchBar extends React.Component<SearchBoxProps, SearchBoxState> {\r\n    private inputFieldRef: any;\r\n    private randomKey: string = Date.now().toString();\r\n    // set default props\r\n    static defaultProps = {\r\n        focus:    false,\r\n        tabIndex: 1\r\n    }\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n\r\n        // set deault state\r\n        this.state = {\r\n            address: '',\r\n            errorMessage: '',\r\n            latitude: null,\r\n            longitude: null\r\n        };\r\n\r\n        this.inputFieldRef = null;\r\n    }\r\n\r\n    /**\r\n     * Set autofocus when flag is set.\r\n     */\r\n    componentDidMount() {\r\n        if(this.props.focus) this.inputFieldRef.focus();\r\n    }\r\n\r\n    /**\r\n     * Set the address searchterm in state for autocompletion.\r\n     * @param {string} address - Currently typed searchterm\r\n     */\r\n    handleChange = (address: string) => {\r\n        this.setState({\r\n            address,\r\n            latitude: null,\r\n            longitude: null,\r\n            errorMessage: ''\r\n        });\r\n    };\r\n\r\n    /**\r\n     * The coordinates for the selected address are requested from google maps.\r\n     * @param {string} selected - Selected address by user\r\n     */\r\n    handleSelect = (selected: string) => {\r\n        this.setState({ address: selected });\r\n\r\n        if(selected && selected.length > 0){\r\n            // get geocode from google api\r\n            geocodeByAddress(selected)\r\n            .then((res: any) => getLatLng(res[0]))\r\n            .then(({lat, lng}: any) => {\r\n                this.setState({\r\n                    latitude:    lat,\r\n                    longitude:   lng\r\n                });\r\n\r\n                // fire change event\r\n                this.props.onLocationChanged(lat, lng);\r\n            })\r\n            .catch((error: any) => {\r\n                console.error('error', error);\r\n            });\r\n        }\r\n    };\r\n\r\n    /**\r\n     * clear inputfield and fire changeevent\r\n     */\r\n    handleCloseClick = () => {\r\n        this.setState({\r\n            address: '',\r\n            latitude: null,\r\n            longitude: null,\r\n        });\r\n\r\n        // fire change event\r\n        this.props.onLocationChanged(null, null);\r\n    };\r\n\r\n    /**\r\n     * Handle errors that may come from the google api and clear suggestions.\r\n     * @param {string} status               - Status message from api\r\n     * @param {() => void} clearSuggestions - Callback to clear suggestions\r\n     */\r\n    handleError = (status: string, clearSuggestions: () => void) => {\r\n        console.error('Error from Google Maps API', status);\r\n        this.setState({errorMessage: status}, () => {\r\n            clearSuggestions();\r\n        });\r\n    };\r\n\r\n    /**\r\n     * If the user leaves the search box and it is empty, a locationchanged must be fired.\r\n     */\r\n    handleBlur = () => {\r\n        if(this.state.address === \"\") {\r\n            this.handleCloseClick()\r\n        }\r\n    };\r\n\r\n    handleRemoveStopover = () => {\r\n        if(typeof(this.props.onRemoveSearchbar) === 'function' && this.props.stopOverIndex){\r\n            this.props.onRemoveSearchbar(this.props.stopOverIndex);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Render HTML output\r\n     */\r\n    render() {\r\n        const {\r\n            address,\r\n            errorMessage,\r\n        }: any = this.state;\r\n\r\n        return (\r\n            <div key={this.randomKey}>\r\n                <PlacesAutocomplete\r\n                    onChange={this.handleChange}\r\n                    value={address}\r\n                    onSelect={this.handleSelect}\r\n                    onError={this.handleError}\r\n                    shouldFetchSuggestions={address.length > 1}\r\n                    highlightFirstSuggestion={true}\r\n                    searchOptions={{\r\n                        componentRestrictions: {country: \"CH\"}\r\n                    }}\r\n                >\r\n                    {({getInputProps, suggestions, getSuggestionItemProps}) => {\r\n                        return (\r\n                            <div className=\"SearchBar__search-bar-container\">\r\n                                <div className=\"SearchBar__search-input-container\">\r\n                                    {/* Search input field */}\r\n                                    <input tabIndex={this.props.tabIndex}\r\n                                        ref={(input) => { this.inputFieldRef = input; }}\r\n                                        {...getInputProps({\r\n                                            placeholder: this.props.placeholder,\r\n                                            className: 'SearchBar__search-input',\r\n                                        })}\r\n                                        onBlur={this.handleBlur}\r\n                                    />\r\n                                    \r\n                                    {/* Closebutton */}\r\n                                    {this.state.address.length > 0 && (\r\n                                        <button\r\n                                            className=\"SearchBar__clear-button\"\r\n                                            onClick={this.handleCloseClick}\r\n                                        >x</button>\r\n                                    )}\r\n                                    \r\n                                </div>\r\n                                {/* Show suggestions if there are any */}\r\n                                {suggestions.length > 0 && (\r\n                                    <div className=\"SearchBar__autocomplete-container\">\r\n                                        {suggestions.map((suggestion: any, index: number) => {\r\n                                            let className = 'SearchBar__suggestion-item';\r\n                                            if(suggestion.active) className += ' SearchBar__suggestion-item--active';\r\n\r\n                                            return (\r\n                                                <div\r\n                                                    {...getSuggestionItemProps(suggestion, {className})}\r\n                                                    key={index}\r\n                                                >\r\n                                                    <strong>{suggestion.formattedSuggestion.mainText}</strong>{' '}\r\n                                                    <small>{suggestion.formattedSuggestion.secondaryText}</small>\r\n                                                </div>\r\n                                            );\r\n                                        })}\r\n                                        <div className=\"SearchBar__dropdown-footer\">\r\n                                            <div />\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        );\r\n                    }}\r\n                </PlacesAutocomplete>\r\n                {/* Show errrormessage if there is one */}\r\n                {errorMessage.length > 0 && (\r\n                    <div className=\"SearchBar__error-message\">{this.state.errorMessage}</div>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SearchBar;\r\n","import React, { ChangeEvent, Component } from \"react\";\r\nimport \"react-pro-sidebar/dist/css/styles.css\";\r\nimport \"../scss/SideBar.scss\";\r\nimport {\r\n  FaBicycle,\r\n  FaCar,\r\n  FaGlobe,\r\n  FaMinus,\r\n  FaPlus,\r\n  FaSubway,\r\n  FaWalking,\r\n} from \"react-icons/fa\";\r\nimport {\r\n  injectIntl,\r\n  FormattedMessage,\r\n  WrappedComponentProps,\r\n} from \"react-intl\";\r\nimport {\r\n  ProSidebar,\r\n  SidebarHeader,\r\n  SidebarFooter,\r\n  SidebarContent,\r\n  Menu,\r\n  MenuItem,\r\n} from \"react-pro-sidebar\";\r\nimport { Button, ButtonGroup } from \"react-bootstrap\";\r\nimport { BiTime, GiPathDistance, RiVirusLine } from \"react-icons/all\";\r\nimport { SideBarProps, SideBarState } from \"../types/SideBar\";\r\nimport SearchBar from \"./SearchBar\";\r\nimport logo from \"../resources/logo.png\";\r\nimport { MunicipalityDTO } from \"../api\";\r\n\r\n/**\r\n * Show the sidebar which mainly serves as a controller for the map.\r\n */\r\nclass SideBar extends Component<\r\n  SideBarProps & WrappedComponentProps,\r\n  SideBarState\r\n> {\r\n  // set default state\r\n  state: SideBarState = {\r\n    stopOvers: [],\r\n    travelMode: \"DRIVING\",\r\n    routeListMaxHeight: 300,\r\n  };\r\n\r\n  // componentDidMount() {\r\n  //   this.updateDimensions();\r\n  //   window.addEventListener(\"resize\", this.updateDimensions);\r\n  // }\r\n\r\n  // componentWillUnmount() {\r\n  //   window.removeEventListener(\"resize\", this.updateDimensions);\r\n  // }\r\n\r\n  // updateDimensions = () => {\r\n  //   console.log('----------');\r\n  //   const sideBarContentHeight = document.body.offsetHeight;\r\n  //   const sideBarHeaderHeight = document.getElementById('sidebarHeaderWrapper')!.offsetHeight;\r\n  //   const sideBarSearchHeight = document.getElementById('sidebarSearchWrapper')!.offsetHeight;\r\n  //   const sideBarModeHeight = document.getElementById('sidebarModeWrapper')!.offsetHeight;\r\n  //   const sideBarFooterHeight = document.getElementById('sidebarFooterWrapper')!.offsetHeight;\r\n  //   console.log(sideBarContentHeight, sideBarSearchHeight, sideBarModeHeight);\r\n  //   let sideBarListHeight = sideBarContentHeight - sideBarSearchHeight - sideBarModeHeight - sideBarHeaderHeight - sideBarFooterHeight;\r\n  //   if(Number.isNaN(sideBarListHeight)){sideBarListHeight = 200};\r\n  //   console.log(sideBarListHeight);\r\n  //   this.setState({ routeListMaxHeight : sideBarListHeight});\r\n  // };\r\n  /**\r\n   * Convert a string to a real travelMode-enum\r\n   * @param {any} event - Mouse click event\r\n   */\r\n  changeTravelMode = (event: any) => {\r\n    const travelModeString = event.target.id;\r\n\r\n    // set state and fire change event\r\n    this.setState({ travelMode: travelModeString });\r\n    this.props.travelModeChanged(\r\n      google.maps.TravelMode[\r\n        travelModeString as keyof typeof google.maps.TravelMode\r\n      ]\r\n    );\r\n  };\r\n\r\n  /**\r\n   * Handle when an stopover coordiante has been changed\r\n   * @param {number | null} lat - Latitude of stopover coordinates.\r\n   * @param {number | null} lng - Longitude of stopover coordinates.\r\n   * @param { number } index    - Index of stopover in stopOvers-state.\r\n   */\r\n  handleStopOverChanged = (\r\n    lat: number | null,\r\n    lng: number | null,\r\n    index: number\r\n  ) => {\r\n    const location = !lat || !lng ? undefined : { lat: lat, lng: lng };\r\n    const currentStopOvers = this.state.stopOvers;\r\n    currentStopOvers[index] = location || { lat: undefined, lng: undefined };\r\n    // set state and fire change event\r\n    this.setState(\r\n      (state: SideBarState, props: SideBarProps) => ({\r\n        stopOvers: currentStopOvers,\r\n      }),\r\n      () => {\r\n        this.props.locationStopOversChanged(this.state.stopOvers);\r\n      }\r\n    );\r\n  };\r\n\r\n  /**\r\n   * Add a new searchbar (input field) to the search mask\r\n   */\r\n  handleAddSearchbar = () => {\r\n    const currentStopOvers = this.state.stopOvers ? this.state.stopOvers : [];\r\n\r\n    currentStopOvers.push({ lat: undefined, lng: undefined });\r\n    this.setState((state: SideBarState, props: SideBarProps) => ({\r\n      stopOvers: currentStopOvers,\r\n      // stopOvers: [...currentStopOvers, { lat: undefined, lng: undefined }],\r\n    }));\r\n  };\r\n\r\n  /**\r\n   * Remove the selected searchbar (input field) from the search mask\r\n   * @param {number }index - index of dynamicaly added searchbar\r\n   */\r\n  handleRemoveSearchbar = (index: number): void => {\r\n    let currentStopOvers = this.state.stopOvers;\r\n    if (currentStopOvers.length > 1) {\r\n      currentStopOvers.splice(index, 1);\r\n    } else {\r\n      currentStopOvers = [];\r\n    }\r\n\r\n    // set state and fire change event\r\n    this.setState(\r\n      (state: SideBarState, props: SideBarProps) => ({\r\n        stopOvers: currentStopOvers,\r\n      }),\r\n      () => {\r\n        this.props.locationStopOversChanged(this.state.stopOvers);\r\n      }\r\n    );\r\n  };\r\n\r\n  /**\r\n   * Set the municipality for the incidence chart component\r\n   * @param {MunicipalityDTO} municipality - selected municipality to display incidence chart for\r\n   */\r\n  handleRouteInfoMunicipalityClick = (municipality: MunicipalityDTO) => {\r\n    this.props.selectedMunicipalityChanged(municipality);\r\n  };\r\n  \r\n\r\n  /**\r\n   * Render HTMl output\r\n   */\r\n  render() {\r\n    const { intl } = this.props;\r\n    return (\r\n      <ProSidebar\r\n        rtl={this.props.rtl}\r\n        collapsed={this.props.collapsed}\r\n        toggled={this.props.toggled}\r\n        breakPoint='md'\r\n        onToggle={this.props.handleToggleSidebar}\r\n        data-testid='sidebar-1'\r\n      >\r\n        {/* Header with logo and app title */}\r\n        <SidebarHeader id='sidebarHeaderWrapper'>\r\n          <div className='sidebar-header'>\r\n            <img\r\n              className='sidebar-header-icon'\r\n              src={logo}\r\n              alt='Corona Navigator GR'\r\n            />\r\n            {intl.formatMessage({ id: \"sideBarTitle\" })}\r\n          </div>\r\n        </SidebarHeader>\r\n\r\n        {/* Content with searchfields, stopovers, and route municipalities list */}\r\n        <SidebarContent>\r\n          {/* Change travelmode */}\r\n          <Menu\r\n            key='menuTravelMode'\r\n            className='travelModeMenu'\r\n            id='sidebarModeWrapper'\r\n          >\r\n            <div className='travelMode'>\r\n              <ButtonGroup aria-label='Basic example'>\r\n                <Button\r\n                  title={intl.formatMessage({ id: \"tavelModeDriving\" })}\r\n                  tabIndex={1}\r\n                  className={\r\n                    this.state.travelMode === \"DRIVING\" ? \"active\" : \"\"\r\n                  }\r\n                  id='DRIVING'\r\n                  variant='secondary'\r\n                  onClick={this.changeTravelMode}\r\n                >\r\n                  <FaCar />\r\n                </Button>\r\n                <Button\r\n                  title={intl.formatMessage({ id: \"tavelModeTransit\" })}\r\n                  tabIndex={2}\r\n                  className={\r\n                    this.state.travelMode === \"TRANSIT\" ? \"active\" : \"\"\r\n                  }\r\n                  id='TRANSIT'\r\n                  variant='secondary'\r\n                  onClick={this.changeTravelMode}\r\n                >\r\n                  <FaSubway />\r\n                </Button>\r\n                <Button\r\n                  title={intl.formatMessage({ id: \"tavelModeWalking\" })}\r\n                  tabIndex={3}\r\n                  className={\r\n                    this.state.travelMode === \"WALKING\" ? \"active\" : \"\"\r\n                  }\r\n                  id='WALKING'\r\n                  variant='secondary'\r\n                  onClick={this.changeTravelMode}\r\n                >\r\n                  <FaWalking />\r\n                </Button>\r\n                <Button\r\n                  title={intl.formatMessage({ id: \"tavelModeBicycling\" })}\r\n                  tabIndex={4}\r\n                  className={\r\n                    this.state.travelMode === \"BICYCLING\" ? \"active\" : \"\"\r\n                  }\r\n                  id='BICYCLING'\r\n                  variant='secondary'\r\n                  onClick={this.changeTravelMode}\r\n                >\r\n                  <FaBicycle />\r\n                </Button>\r\n              </ButtonGroup>\r\n            </div>\r\n          </Menu>\r\n\r\n          {/* Searchfields \"from\" */}\r\n          <Menu\r\n            key='menuSearch'\r\n            iconShape='circle'\r\n            id='sidebarSearchWrapper'\r\n            className='searchbar-add-stop-over-wrapper pro-menu-searchbar sidebarSearchWrapper'\r\n          >\r\n            <MenuItem key='searchBarFromMenuItem'>\r\n              <div className='search-bar-stop-over searchBarFrom'>\r\n                <div className='search-bar'>\r\n                  <SearchBar\r\n                    key='searchBarFrom'\r\n                    tabIndex={5}\r\n                    placeholder={intl.formatMessage({ id: \"destinationFrom\" })}\r\n                    onLocationChanged={this.props.locationFromChanged}\r\n                    focus={true}\r\n                  />\r\n                </div>\r\n                {/* Add stopover */}\r\n              </div>\r\n              <button\r\n                hidden={\r\n                  this.state.travelMode === google.maps.TravelMode.TRANSIT\r\n                }\r\n                className='btn btn-purple btn-add-stopover'\r\n                onClick={this.handleAddSearchbar}\r\n                title={intl.formatMessage({ id: \"addStopOver\" })}\r\n              >\r\n                <FaPlus className='addStopOverIcon' />{\" \"}\r\n                {intl.formatMessage({ id: \"addStopOver\" })}\r\n              </button>\r\n            </MenuItem>\r\n\r\n            <MenuItem\r\n              key='searchBarAddStopover'\r\n              className='searchbar-add-stop-over-wrapper pro-menu-searchbar '\r\n            >\r\n              {/* Show all stopovers */}\r\n              { this.state?.stopOvers?.map((stopOverCoords, index) => {\r\n                  return (\r\n                    <div hidden={\r\n                      this.state.travelMode === google.maps.TravelMode.TRANSIT\r\n                    }\r\n                      className='search-bar-stop-over'\r\n                      key={\"searchBarStopOver\" + index}\r\n                    >\r\n                      <div className='removeButtonWrapper removableSearchbar'>\r\n                        <SearchBar\r\n                          tabIndex={5 + (this.state?.stopOvers?.length || 0)}\r\n                          placeholder={intl.formatMessage({ id: \"stopover\" })}\r\n                          onLocationChanged={(lat, lng) => {\r\n                            this.handleStopOverChanged(lat, lng, index);\r\n                          }}\r\n                          focus={false}\r\n                        />\r\n                      </div>\r\n                      <button\r\n                        className='btn btn-purple removeStopOverButton'\r\n                        onClick={() => {\r\n                          this.handleRemoveSearchbar(index);\r\n                        }}\r\n                        title={intl.formatMessage({ id: \"removeStopOver\" })}\r\n                      >\r\n                        <FaMinus />\r\n                      </button>\r\n                    </div>\r\n                  );\r\n                })}\r\n            </MenuItem>\r\n\r\n            {/* Searchfield \"to\" */}\r\n            <MenuItem key='searchBarTo' className='pro-menu-searchbar'>\r\n              <div className='search-bar searchBarTo'>\r\n                <SearchBar\r\n                  tabIndex={6 + (this.state?.stopOvers?.length || 0)}\r\n                  placeholder={intl.formatMessage({ id: \"destinationTo\" })}\r\n                  onLocationChanged={this.props.locationToChanged}\r\n                />\r\n              </div>\r\n            </MenuItem>\r\n            {/* Route result short infos (incidence avg, distance, duration) */}\r\n            {this.props.routeInfos.distance > 0 && (\r\n              <MenuItem key='routeInfos'>\r\n                <div className='route-infos'>\r\n                  <span\r\n                    title={intl.formatMessage({ id: \"infographicIncidence\" })}\r\n                  >\r\n                    <span className='icon average'>\r\n                      <RiVirusLine />\r\n                    </span>\r\n                    {this.props.routeInfos?.incidence?.toFixed(1) || 0}\r\n                  </span>\r\n                  <span\r\n                    title={intl.formatMessage({ id: \"infographicDuration\" })}\r\n                  >\r\n                    <span className='icon'>\r\n                      <BiTime />\r\n                    </span>\r\n                    {this.props.routeInfos.duration >= 60 &&\r\n                      `${Math.floor(this.props.routeInfos.duration / 60)} h `}\r\n                    {`${(this.props.routeInfos.duration % 60).toFixed()} min`}\r\n                  </span>\r\n                  <span\r\n                    title={intl.formatMessage({ id: \"infographicDistance\" })}\r\n                  >\r\n                    <span className='icon'>\r\n                      <GiPathDistance />\r\n                    </span>\r\n                    {this.props.routeInfos.distance.toFixed(1)} km\r\n                  </span>\r\n                </div>\r\n              </MenuItem>\r\n            )}\r\n          </Menu>\r\n\r\n          {/* Municipalities list along the with incidence and name */}\r\n          {this.props.routeInfos.distance > 0 && (\r\n            <Menu key='menuWaypoint' className='menu-waypoints'>\r\n              <div className='route-waypoints'>\r\n                {/* Title and table header */}\r\n                <span className='title'>\r\n                  <div>\r\n                    {intl.formatMessage({ id: \"municipalitiesAlongTheRoute\" })}{\" \"}\r\n                    ({this.props.routeInfos.municipalities.length})\r\n                  </div>\r\n                  <div className='waypoints-header'>\r\n                    <span>{intl.formatMessage({ id: \"ddincidenced14\" })}</span>\r\n                    <span>{intl.formatMessage({ id: \"municipality\" })}</span>\r\n                  </div>\r\n                </span>\r\n\r\n                {/* Show all municipalities */}\r\n                {/* style={{maxHeight: this.state.routeListMaxHeight, height: this.state.routeListMaxHeight, minHeight:this.state.routeListMaxHeight}} */}\r\n                <div\r\n                  className={\r\n                    \"listWrapper \" + (\"wrapper-\" + this.state.stopOvers.length)\r\n                  }\r\n                >\r\n                  <ul>\r\n                    {this.props.routeInfos.municipalities.map((m, i) => {\r\n                      return (\r\n                        <li key={`waypoint-${i}`} \r\n                          onClick={() => (this.handleRouteInfoMunicipalityClick(m.municipality))}\r\n                        >\r\n                          <div\r\n                            className='bullet'\r\n                            style={\r\n                              m.municipality.incidence_color !== \"#000000\"\r\n                                ? {\r\n                                    background: `${m.municipality.incidence_color}`,\r\n                                  }\r\n                                : { background: `#6475b1` }\r\n                            }\r\n                          />\r\n                          <div className='incidence'>\r\n                            {m.municipality.incidence ||\r\n                            m.municipality.incidence === 0\r\n                              ? m.municipality.incidence?.toFixed(1)\r\n                              : \"?\"}\r\n                          </div>\r\n                          <div className='info'>{m.municipality.name}</div>\r\n                        </li>\r\n                      );\r\n                    })}\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </Menu>\r\n          )}\r\n        </SidebarContent>\r\n\r\n        {/* Footer with impressum and language chooser */}\r\n        <SidebarFooter className='sidebar-footer' id='sidebarFooterWrapper'>\r\n          {/* Language Chooser */}\r\n          <div className='localization-wrapper'>\r\n            <FaGlobe />\r\n            <select\r\n              className='locales-select'\r\n              onChange={(e: ChangeEvent<HTMLSelectElement>) =>\r\n                this.props.localeChanged(e.target.value)\r\n              }\r\n            >\r\n              {Object.keys(this.props.locales).map((key: string) => {\r\n                return (\r\n                  <option value={key} key={key}>\r\n                    {this.props.locales[key]}\r\n                  </option>\r\n                );\r\n              })}\r\n            </select>\r\n          </div>\r\n\r\n          {/* Impressum */}\r\n          <a\r\n            href='https://corona-navigator.ch'\r\n            target='_blank'\r\n            className='team-link'\r\n            rel='noopener noreferrer'\r\n          >\r\n            <FormattedMessage id={\"sideBarFooter\"} />\r\n          </a>\r\n        </SidebarFooter>\r\n      </ProSidebar>\r\n    );\r\n  }\r\n}\r\n\r\nexport default injectIntl(SideBar);\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAqCAYAAAD1T9h6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAGOGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDYgNzkuMTY0NzUzLCAyMDIxLzAyLzE1LTExOjUyOjEzICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjIuMyAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIxLTA0LTI1VDAzOjQ2KzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0wNC0yNVQwMzo1NDoyMCswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wNC0yNVQwMzo1NDoyMCswMjowMCIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjRhODk4NDhkLTRlNWQtZTU0OC04YmRkLTU4ZmU1MDg2NzMyNCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpiMmZjNWFjOS01OTIwLWU5NDItODFlOS1jMzQ0MWVkYjc5OGQiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmE1Y2Q4NTVmLWU2NzUtMjg0MC04NTRkLTVmYjk0NmFiODhkNiIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQzMmJkODg2LWE3MGEtN2Y0YS1iNTI1LTI5NTZlMzEzMjgzYiIgc3RFdnQ6d2hlbj0iMjAyMS0wNC0yNVQwMzo0NiswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjMgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmIyZmM1YWM5LTU5MjAtZTk0Mi04MWU5LWMzNDQxZWRiNzk4ZCIgc3RFdnQ6d2hlbj0iMjAyMS0wNC0yNVQwMzo1NDoyMCswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjMgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PigIbtYAAAizSURBVFjDvZl7kNZVGcc/zzm/97K7oAsiclHARUCRJGUUyhFBTcFLlpeKXC1tHLJpvFU65UxmZZmlNoVOaRiU5aWblTViKjop42VUUCRENJfbAinKsrss+zvnPP2x54WXd3/vssuCz8w777y/3zm/9/me5/Z9np9MmXYy+1NEhAkTxnHdtVcy6eiJ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\"","/**\r\n * Translation file for corona navigator.\r\n * Currently supported languages: de-DE, en-GB\r\n */\r\n\r\nconst messages = {\r\n    'de-DE': {\r\n        area:                         'FlÃ¤che',\r\n        coordinates:                  'Koordinaten',\r\n        destinationFrom:              'Von',\r\n        destinationTo:                'Nach',\r\n        municipalitiesAlongTheRoute:  'Gemeinden entlang der Route',\r\n        incidence:                    'Inzidenz',\r\n        ddincidenced14:               '14-tages Inzidenz',\r\n        municipality:                 'Gemeinde',\r\n        municipalities:               'Gemeinden',\r\n        population:                   'BevÃ¶lkerung',\r\n        sideBarTitle:                 'Corona Wegweiser',\r\n        sideBarFooter:                'Corona Navigator, Gruppe 02 Kt. GraubÃ¼nden',\r\n        stopover:                     'Zwischenhalt',\r\n        addStopOver:                  'Zwischenhalt hinzufÃ¼gen',\r\n        removeStopOver:               'Zwischenhalt entfernen',\r\n        loadingIncidenceOverlay:      'Inzidenzen werden geladen',\r\n        loadingFinished:              'Inzidenzen erfolgreich geladen',\r\n        infographicIncidence:         'Durchschnitts-Inzidenz',\r\n        infographicDuration:          'Reisedauer',\r\n        infographicDistance:          'Distanz',\r\n        tavelModeDriving:             'Fahren',\r\n        tavelModeTransit:             'Ã–V',\r\n        tavelModeWalking:             'Wandern',\r\n        tavelModeBicycling:           'Fahrrad',\r\n        errorMessageTimeout:          'Verbindungsprobleme mit Kantonsservice ',\r\n        errorEmoji:                   'ðŸ˜·',\r\n        errorMessageHttpError:        'Fehler Inzidenzdienst: ',\r\n        errorMessageNoResponse:       'Inzidenzdienst nicht erreichbar',\r\n        errorMessageRequestError:     'Verbindungsaufbau fehlgeschlagen: ',\r\n        error:                        'Ein Fehler ist aufgetreten: ',\r\n        interval14:                   '14 Tage', \r\n        interval7:                    '7 Tage',  \r\n        intervalAll:                  'Seit Beginn',\r\n        chartTitle:                   'Tagesinzidenzen in ',\r\n        chartXTitle:                  'Datum',\r\n        chartYTitle:                  'Tagesinzidenz',\r\n        chartLoading:                 'Laden'\r\n    },\r\n    'en-GB': {\r\n        area: 'Area',\r\n        coordinates:                  'coordinates',\r\n        destinationFrom:              'From',\r\n        destinationTo:                'To',\r\n        municipalitiesAlongTheRoute:  'Municipalities along the route',\r\n        incidence:                    'Incidence',\r\n        ddincidenced14:               '14d Incidence',\r\n        municipality:                 'Municipality',\r\n        municipalities:               'Municipalities',\r\n        population:                   'Population',\r\n        sideBarTitle:                 'Corona Navigator',\r\n        sideBarFooter:                'Corona Navigator, Group 02 Ct. GraubÃ¼nden',\r\n        stopover:                     'Stopover',\r\n        addStopOver:                  'Add stopover',\r\n        removeStopOver:               'Remove stopover',\r\n        loadingIncidenceOverlay:      'Incidences are loading',\r\n        loadingFinished:              'Incidences successfully loaded',\r\n        infographicIncidence:         'Mean incidence',\r\n        infographicDuration:          'Travel duration',\r\n        infographicDistance:          'Distance',\r\n        tavelModeDriving:             'Driving',\r\n        tavelModeTransit:             'Transit',\r\n        tavelModeWalking:             'Walking',\r\n        tavelModeBicycling:           'Bicycling',\r\n        errorMessageTimeout:          'Timeout occured for canton service ',\r\n        errorEmoji:                   'ðŸ˜·',\r\n        errorMessageHttpError:        'Error incidence service: ',\r\n        errorMessageNoResponse:       'Incidence service not available',\r\n        errorMessageRequestError:     'Request setup failed: ',\r\n        error:                        'An error occured: ',\r\n        interval14:                   '14 Days', \r\n        interval7:                    '7 Days',  \r\n        intervalAll:                  'Since beginn',\r\n        chartTitle:                   'Daily Incidences in ',\r\n        chartXTitle:                  'Date',\r\n        chartYTitle:                  'Daily Incidence',\r\n        chartLoading:                 'Loading'\r\n    }\r\n\r\n}\r\n\r\nexport default messages\r\n","import React, { ChangeEvent, Component } from \"react\";\r\nimport PlotlyChart from \"react-plotlyjs-ts\";\r\nimport { injectIntl, WrappedComponentProps } from \"react-intl\";\r\nimport {\r\n  IncidenceHistoryProps,\r\n  IncidenceHistoryState,\r\n  IntervalOption,\r\n} from \"../types/IncidenceHistory\";\r\nimport { Configuration, DefaultApi, IncidenceDTO } from \"../api\";\r\nimport moment from \"moment\";\r\nimport \"../scss/IncidenceHistory.scss\";\r\nconst DefaultApiConfig = new Configuration({\r\n  basePath: process.env.REACT_APP_SERVER_URL,\r\n});\r\nconst API = new DefaultApi(DefaultApiConfig);\r\n\r\n/**\r\n * Render the TODO:\r\n */\r\nclass IncidenceHistory extends Component<\r\n  IncidenceHistoryProps & WrappedComponentProps,\r\n  IncidenceHistoryState\r\n> {\r\n  private intervalOptions: IntervalOption[] = [\r\n    { key: \"interval14\", date: moment(new Date()).subtract(14, \"d\") },\r\n    { key: \"interval7\", date: moment(new Date()).subtract(7, \"d\") },\r\n    { key: \"intervalAll\", date: moment(new Date(\"2019-02-26\")) },\r\n  ];\r\n\r\n  // set default state\r\n  state: IncidenceHistoryState = {\r\n    dateFrom: moment(new Date()).subtract(15, \"d\"),\r\n    dateTo: moment(new Date()).subtract(1, \"d\"),\r\n    data: [],\r\n    loaded: false,\r\n    selectedMunicipality: undefined,\r\n    previousDateFrom: undefined,\r\n  };\r\n\r\n  constructor(props: IncidenceHistoryProps & WrappedComponentProps) {\r\n    super(props);\r\n  }\r\n\r\n  //   public handleClick = (evt: any) => alert(\"click\");\r\n  //   public handleHover = (evt: any) => alert(\"hover\");\r\n\r\n  /**\r\n   * load the incidences for the current selected municipality\r\n   * and set it to the state\r\n   */\r\n  loadData = () => {\r\n    API.cantonsCantonMunicipalitiesBfsNrIncidencesGet(\r\n      this.props.selectedMunicipality!.canton!,\r\n      this.props.selectedMunicipality!.bfs_nr!.toString(),\r\n      moment(this.state.dateFrom).format(\"YYYY-MM-DD\"),\r\n      moment(this.state.dateTo).format(\"YYYY-MM-DD\"),\r\n      this.props.selectedLocale\r\n    ).then(\r\n      (response: { data: IncidenceDTO[] }) => {\r\n        const dataSeries = response.data.map((dt: IncidenceDTO) => {\r\n          return { timestamp: new Date(dt.date!), value: dt.incidence! };\r\n        });\r\n\r\n        this.setState(\r\n          (state: IncidenceHistoryState, props: IncidenceHistoryProps) => ({\r\n            data: dataSeries,\r\n            loaded: true,\r\n          })\r\n        );\r\n      },\r\n      (error: Error) => {\r\n        console.log(error.message);\r\n        this.setState(\r\n          (state: IncidenceHistoryState, props: IncidenceHistoryProps) => ({\r\n            loaded: true,\r\n          })\r\n        );\r\n      }\r\n    );\r\n  };\r\n\r\n  /**\r\n   * Sets the dateFrom which reloads the data for the given municipality with the new dateFrom parameter.\r\n   * @param {string} intervalDateString - the date string of the selected Moment Date\r\n   */\r\n  intervalChanged = (intervalDateString: string) => {\r\n    this.setState(\r\n      (state: IncidenceHistoryState, props: IncidenceHistoryProps) => ({\r\n        dateFrom: moment(new Date(intervalDateString)),\r\n      })\r\n    );\r\n  };\r\n\r\n  /**\r\n   * Fetch data and display the chart only if the municipality or the chart interval has changed.\r\n   */\r\n  componentDidUpdate() {\r\n    if (\r\n      this.props.selectedMunicipality === undefined &&\r\n      this.props.selectedMunicipality !== this.state.selectedMunicipality\r\n    ) {\r\n      this.setState(\r\n        (state: IncidenceHistoryState, props: IncidenceHistoryProps) => ({\r\n          selectedMunicipality: this.props.selectedMunicipality,\r\n          dateFrom: this.intervalOptions[0].date,\r\n          data: [],\r\n          loaded: false\r\n        })\r\n      );\r\n    }\r\n    if (\r\n      this.props.selectedMunicipality &&\r\n      (this.props.selectedMunicipality !== this.state.selectedMunicipality ||\r\n        this.state.dateFrom !== this.state.previousDateFrom)\r\n    ) {\r\n      this.setState(\r\n        (state: IncidenceHistoryState, props: IncidenceHistoryProps) => ({\r\n          selectedMunicipality: this.props.selectedMunicipality,\r\n          previousDateFrom: this.state.dateFrom,\r\n          data: [],\r\n          loaded: false\r\n        })\r\n      );\r\n      this.loadData();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Separate render method for the plotly.js chart, which can be called within a condition\r\n   * @returns {JSX.Element}\r\n   */\r\n  renderIncidences = () => {\r\n    const data = [\r\n      {\r\n        type: \"bar\",\r\n        x: this.state.data.map((dt) => dt.timestamp),\r\n        y: this.state.data.map((dt) => dt.value),\r\n        marker: { color: \"#6475b1\" },\r\n      },\r\n    ];\r\n    const layout = {\r\n      title: {\r\n        text:\r\n          this.props.intl.formatMessage({ id: \"chartTitle\" }) +\r\n          this.props.selectedMunicipality?.name,\r\n        font: {\r\n          size: 20,\r\n        },\r\n        x: 0.04,\r\n        y: 0.9,\r\n        xanchor: \"left\",\r\n        yanchor: \"bottom\",\r\n      },\r\n      xaxis: {\r\n        title: this.props.intl.formatMessage({ id: \"chartXTitle\" }),\r\n        margin: {\r\n          t: 50,\r\n          b: 10,\r\n          l: 0,\r\n          r: 0,\r\n          pad: 5,\r\n        },\r\n        automargin: false,\r\n      },\r\n      autosize: false,\r\n      width: 800,\r\n      height: 200,\r\n      yaxis: {\r\n        title: this.props.intl.formatMessage({ id: \"chartYTitle\" }),\r\n        automargin: true,\r\n      },\r\n      margin: {\r\n        l: 20,\r\n        r: 20,\r\n        b: 60,\r\n        t: 60,\r\n        pad: 4,\r\n      },\r\n      paper_bgcolor: \"rgba(0,0,0,0.5)\",\r\n      plot_bgcolor: \"rgba(0,0,0,0.5)\",\r\n      bgcolor: \"#4c5c96\",\r\n      bordercolor: \"#4c5c96\",\r\n      font: { size: 10, color: \"#fff\" },\r\n    };\r\n    return (\r\n      <div className='incidencePlotly'>\r\n        <PlotlyChart\r\n          data={data}\r\n          layout={layout}\r\n          config={{displayModeBar: true, modeBarButtonsToRemove: ['lasso2d','toggleSpikelines']}}\r\n          // onClick={this.handleClick}\r\n          // onHover={this.handleHover}\r\n        />\r\n        <select\r\n          className='incidencechart-interval-select'\r\n          onChange={(e: ChangeEvent<HTMLSelectElement>) =>\r\n            this.intervalChanged(e.target.value)\r\n          }\r\n        >\r\n          {this.intervalOptions.map((dt: IntervalOption) => {\r\n            return (\r\n              <option value={moment(dt.date).format(\"YYYY-MM-DD\")} key={dt.key}>\r\n                {this.props.intl.formatMessage({ id: dt.key })}\r\n              </option>\r\n            );\r\n          })}\r\n        </select>\r\n        <div className=\"closeIncidencePlotlyWrapper\">\r\n        <span\r\n          className='closeIncidencePlotly'\r\n          onClick={this.props.closeIncidenceChart}\r\n        >\r\n          X\r\n        </span>\r\n        </div>\r\n        <span className='loadingIncidences' hidden={this.state.loaded}>\r\n          {this.props.intl.formatMessage({id: \"chartLoading\"})}\r\n        </span>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  /**\r\n   * Render HTMl output\r\n   */\r\n  public render() {\r\n    return (\r\n      <div>\r\n        {this.props.selectedMunicipality \r\n          ? this.renderIncidences()\r\n          : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default injectIntl(IncidenceHistory);\r\n","import React, { Component } from \"react\";\r\nimport \"./scss/App.scss\";\r\nimport GoogleMaps from \"./components/Gmap\";\r\nimport { Coords } from \"google-map-react\";\r\nimport { IntlProvider } from \"react-intl\";\r\nimport {FaBars} from \"react-icons/fa\";\r\nimport {Coordinates} from './types/Coordinates';\r\nimport {RouteInfos} from \"./types/RouteInfos\";\r\nimport {AppProps, AppState} from \"./types/App\";\r\nimport SideBar from \"./components/SideBar\";\r\nimport messages from \"./resources/messages\";\r\nimport IncidenceHistory from \"./components/IncidenceHistory\";\r\nimport { MunicipalityDTO } from \"./api\";\r\n\r\n/**\r\n * Show the entire application with it's main component \"SideBar\" and \"GoogleMaps\".\r\n * It also acts as a data provider for the child components.\r\n *\r\n * SideBar    - Contains the search fields, travelmode selection, municipality-incident list and the language switcher.\r\n * GoogleMaps - Contains the Google Maps with all map related functions.\r\n */\r\nclass App extends Component<AppProps, AppState> {\r\n  private locales: { [key: string]: string } = {\r\n    \"de-DE\": \"Deutsch\",\r\n    \"en-GB\": \"English\",\r\n  };\r\n\r\n  // set default state\r\n  state: AppState = {\r\n    locationFrom:         undefined,\r\n    locationTo:           undefined,\r\n    locationStopOvers:    [],\r\n    travelMode:           google.maps.TravelMode.DRIVING,\r\n    locale:               \"de-DE\",\r\n    messages:             messages,\r\n    rtl:                  false,\r\n    toggled:              false,\r\n    collapsed:            false,\r\n    routeInfos: {   \r\n      distance:           0,\r\n      duration:           0,\r\n      incidence:          null,\r\n      municipalities:     []\r\n    },\r\n    selectedMunicipality: undefined\r\n  };\r\n\r\n  /**\r\n   * Set state if origin coordinates has been changed.\r\n   * @param {number | null} lat - Latitude of origin coordinates.\r\n   * @param {number | null} lng - Longitude  of origin coordinates.\r\n   */\r\n  locationFromChanged = (lat: number | null, lng: number | null) => {\r\n    const location = !lat || !lng ? undefined : { lat: lat, lng: lng };\r\n    this.setState({ locationFrom: location });\r\n  };\r\n\r\n  /**\r\n   * Set state if destination coordinates has been changed.\r\n   * @param {number | null} lat - Latitude of destination coordinates.\r\n   * @param {number | null} lng - Longitude  of destination coordinates.\r\n   */\r\n  locationToChanged = (lat: number | null, lng: number | null) => {\r\n    const location = !lat || !lng ? undefined : { lat: lat, lng: lng };\r\n    this.setState({ locationTo: location });\r\n  };\r\n\r\n  /**\r\n   * Set state if an stopover stop has changed.\r\n   * @param {Coordinates[]} coordsArray - Array contains all stopover coordinates.\r\n   */\r\n  locationStopOversChanged = (coordsArray: Coordinates[]) => {\r\n    const coords: Coords[] = coordsArray.filter((el) => {\r\n      return (el.lat !== null && el.lng !== null)\r\n    }).map((el) => {\r\n      return { lat: el.lat!, lng: el.lng! }\r\n    });\r\n\r\n    this.setState({locationStopOvers: coords});\r\n  };\r\n\r\n  /**\r\n   * Set state if the selected language has changed.\r\n   * @param {string} locale - Country code of the currently selected language.\r\n   */\r\n  localeChanged = (locale: string) => {\r\n    this.setState({ locale: locale });\r\n  };\r\n\r\n  /**\r\n   * Set state if the travelmode has been changed.\r\n   * @param {google.maps.TravelMode} travelMode - Enum contains the currently selected travel mode.\r\n   *                                              (Possible value: BICYCLING, DRIVING, TRANSIT, WALKING)\r\n   */\r\n  travelModeChanged = (travelMode: google.maps.TravelMode) => {\r\n    this.setState({ travelMode: travelMode });\r\n  }\r\n\r\n  /**\r\n   * Set state if the route infos has been changed.\r\n   * @param {RouteInfos} routeInfos - All route infos that are needed to display in sidebar.\r\n   */\r\n  routeChanged = (routeInfos: RouteInfos) => {\r\n    this.setState({ routeInfos: routeInfos });\r\n  };\r\n\r\n  /**\r\n   * Set state if the state of sidebar has been changed. This happens when the viewport becomes too small.\r\n   * @param {boolean} toggled - Currently selected state of sidebar (open or closed).\r\n   */\r\n  handleToggleSidebar = (toggled: boolean) => {\r\n    this.setState({ toggled: toggled });\r\n  };\r\n\r\n  /**\r\n   * Set state if a municipality was clicked inside the info route section of the sidebar.\r\n   * @param {MunicipalityDTO} selectedMunicipality - Currently selected municipality\r\n   */\r\n  handleSelectedMunicipalityChanged = (selectedMunicipality: MunicipalityDTO | undefined) => {\r\n    this.setState((state: AppState, props: AppProps) => ({\r\n      selectedMunicipality: selectedMunicipality\r\n    }))\r\n  }\r\n\r\n  /**\r\n   * Reset the selected municipality, called when IncidenceHistory-Component \r\n   * close button was clicked.\r\n   */\r\n  handleCloseIncidenceChart = () =>{\r\n    this.setState((state: AppState, props: AppProps) => ({\r\n      selectedMunicipality: undefined\r\n    }))\r\n  }\r\n  /**\r\n   * Render HTMl output\r\n   */\r\n  render() {\r\n    return (\r\n    <IntlProvider\r\n        locale={this.state.locale}\r\n        messages={this.state.messages[this.state.locale]}\r\n      >\r\n\r\n        {/* Wrapper for sidebar */}\r\n        <div className={`App app ${this.state.rtl ? \"rtl\" : \"\"} ${this.state.toggled ? \"toggled\" : \"\"}`}>\r\n          {/* SideBar with props and callbacks */}\r\n          <SideBar\r\n            collapsed                   = { this.state.collapsed }\r\n            rtl                         = { this.state.rtl }\r\n            toggled                     = { this.state.toggled }\r\n            handleToggleSidebar         = { this.handleToggleSidebar }\r\n            locationFromChanged         = { this.locationFromChanged }\r\n            locationToChanged           = { this.locationToChanged }\r\n            locationStopOversChanged    = { this.locationStopOversChanged }\r\n            travelModeChanged           = { this.travelModeChanged }\r\n            locales                     = { this.locales }\r\n            localeChanged               = { this.localeChanged }\r\n            routeInfos                  = { this.state.routeInfos }\r\n            selectedMunicipalityChanged = { this.handleSelectedMunicipalityChanged }\r\n          />\r\n          <main>\r\n            {/* Hamburger menu icon for small screens */}\r\n            <div className='btn-toggle' onClick={() => { this.handleToggleSidebar(true); }}>\r\n              <FaBars />\r\n            </div>\r\n\r\n            {/* Google Maps with props and callbacks */}\r\n            <GoogleMaps\r\n              locationFrom      = { this.state.locationFrom }\r\n              locationTo        = { this.state.locationTo }\r\n              locationStopOvers = { this.state.locationStopOvers }\r\n              travelMode        = { this.state.travelMode }\r\n              routeChanged      = { this.routeChanged }\r\n              selectedLocale    = { this.state.locale }\r\n              selectedMunicipalityChanged = { this.handleSelectedMunicipalityChanged }\r\n            />\r\n            <IncidenceHistory \r\n              selectedLocale={this.state.locale}\r\n              selectedMunicipality={this.state.selectedMunicipality}\r\n              closeIncidenceChart={this.handleCloseIncidenceChart}\r\n              ></IncidenceHistory>\r\n          </main>\r\n        </div>\r\n      </IntlProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './scss/index.scss';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport App from './App';\r\n\r\n/**\r\n * Main loader for app. Render App as ReactDOM.\r\n */\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}